{
  "cacheItemsMap": {
    "authors/default.mdx": {
      "document": {
        "name": "Samarjit Samanta",
        "avatar": "/static/images/avatar.png",
        "occupation": "Software Consultatnt",
        "company": "Accenture",
        "email": "samarjit.samanta@gmail.com",
        "twitter": "https://x.com/samarjitsamanta",
        "linkedin": "https://www.linkedin.com/in/samarjit-samanta-a723a811/",
        "github": "https://github.com/samarjit\r",
        "body": {
          "raw": "\r\nSamarjit Samanta is a wandering soul for all things technology. He likes to\r\nexperiment with javascript, java, react, electronics, Ai. Sometimes when he is too stressed up he paints.\r\n\r\n# Education\r\n<HorizImgText imgSrc='/images/NUS.svg' institute=\"National University of Singapore\" text=\"MTech. software engineering\" dateFrom=\"Jan-2009\" dateTo=\"Apr-2010\" />\r\n\r\n\r\n<HorizImgText imgSrc=\"/images/logo-ncu-home.webp\" \r\ninstitute=\"The Northcap University formerly called Institute of Technology and management College (MDU Rohtak University)\" text=\"Electronics & Communications Engineering\" dateFrom=\"2002\" dateTo=\"Jun-2006\" />\r\n",
          "code": "var Component=(()=>{var d=Object.create;var o=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var w=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),f=(e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})},s=(e,t,n,r)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let i of p(t))!x.call(e,i)&&i!==n&&o(e,i,{get:()=>t[i],enumerable:!(r=g(t,i))||r.enumerable});return e};var j=(e,t,n)=>(n=e!=null?d(u(e)):{},s(t||!e||!e.__esModule?o(n,\"default\",{value:e,enumerable:!0}):n,e)),v=e=>s(o({},\"__esModule\",{value:!0}),e);var m=w((k,c)=>{c.exports=_jsx_runtime});var M={};f(M,{default:()=>h,frontmatter:()=>y});var a=j(m()),y={name:\"Samarjit Samanta\",avatar:\"/static/images/avatar.png\",occupation:\"Software Consultatnt\",company:\"Accenture\",email:\"samarjit.samanta@gmail.com\",twitter:\"https://x.com/samarjitsamanta\",linkedin:\"https://www.linkedin.com/in/samarjit-samanta-a723a811/\",github:\"https://github.com/samarjit\"};function l(e){let t={a:\"a\",h1:\"h1\",p:\"p\",path:\"path\",span:\"span\",svg:\"svg\",...e.components},{HorizImgText:n}=t;return n||S(\"HorizImgText\",!0),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.p,{children:\"Samarjit Samanta is a wandering soul for all things technology. He likes to experiment with javascript, java, react, electronics, Ai. Sometimes when he is too stressed up he paints.\"}),(0,a.jsxs)(t.h1,{className:\"content-header\",id:\"education\",children:[(0,a.jsx)(t.a,{\"aria-hidden\":\"true\",href:\"#education\",tabIndex:\"-1\",children:(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(t.span,{className:\"content-header-link\",children:(0,a.jsxs)(t.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,a.jsx)(t.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,a.jsx)(t.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Education\"]}),(0,a.jsx)(n,{imgSrc:\"/images/NUS.svg\",institute:\"National University of Singapore\",text:\"MTech. software engineering\",dateFrom:\"Jan-2009\",dateTo:\"Apr-2010\"}),(0,a.jsx)(n,{imgSrc:\"/images/logo-ncu-home.webp\",institute:\"The Northcap University formerly called Institute of Technology and management College (MDU Rohtak University)\",text:\"Electronics & Communications Engineering\",dateFrom:\"2002\",dateTo:\"Jun-2006\"})]})}function h(e={}){let{wrapper:t}=e.components||{};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(l,{...e})}):l(e)}function S(e,t){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+e+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return v(M);})();\n;return Component;"
        },
        "_id": "authors/default.mdx",
        "_raw": {
          "sourceFilePath": "authors/default.mdx",
          "sourceFileName": "default.mdx",
          "sourceFileDir": "authors",
          "contentType": "mdx",
          "flattenedPath": "authors/default"
        },
        "type": "Authors",
        "readingTime": {
          "text": "1 min read",
          "minutes": 0.33,
          "time": 19800,
          "words": 66
        },
        "slug": "default",
        "path": "authors/default",
        "filePath": "authors/default.mdx",
        "toc": [
          {
            "value": "Education",
            "url": "#education",
            "depth": 1
          }
        ]
      },
      "documentHash": "1735793987058",
      "hasWarnings": false,
      "documentTypeName": "Authors"
    },
    "blog/ai1.mdx": {
      "document": {
        "title": "Building RASA Ai for entity extraction",
        "date": "2024-11-19T00:00:00.000Z",
        "tags": [
          "Ai",
          "RASA",
          "NER"
        ],
        "summary": "Building sample NER model with RASA\r",
        "body": {
          "raw": "\r\nThis is what I have learnt from *RASA* NLU. Still in draft!\r\n",
          "code": "var Component=(()=>{var u=Object.create;var r=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var A=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var p=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),R=(t,e)=>{for(var n in e)r(t,n,{get:e[n],enumerable:!0})},a=(t,e,n,s)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of A(e))!h.call(t,o)&&o!==n&&r(t,o,{get:()=>e[o],enumerable:!(s=x(e,o))||s.enumerable});return t};var _=(t,e,n)=>(n=t!=null?u(f(t)):{},a(e||!t||!t.__esModule?r(n,\"default\",{value:t,enumerable:!0}):n,t)),j=t=>a(r({},\"__esModule\",{value:!0}),t);var c=p((y,m)=>{m.exports=_jsx_runtime});var g={};R(g,{default:()=>d,frontmatter:()=>S});var i=_(c()),S={title:\"Building RASA Ai for entity extraction\",date:\"2024-11-19\",tags:[\"Ai\",\"RASA\",\"NER\"],summary:\"Building sample NER model with RASA\"};function l(t){let e={em:\"em\",p:\"p\",...t.components};return(0,i.jsxs)(e.p,{children:[\"This is what I have learnt from \",(0,i.jsx)(e.em,{children:\"RASA\"}),\" NLU. Still in draft!\"]})}function d(t={}){let{wrapper:e}=t.components||{};return e?(0,i.jsx)(e,{...t,children:(0,i.jsx)(l,{...t})}):l(t)}return j(g);})();\n;return Component;"
        },
        "_id": "blog/ai1.mdx",
        "_raw": {
          "sourceFilePath": "blog/ai1.mdx",
          "sourceFileName": "ai1.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/ai1"
        },
        "type": "Blog",
        "readingTime": {
          "text": "1 min read",
          "minutes": 0.06,
          "time": 3600,
          "words": 12
        },
        "slug": "ai1",
        "path": "blog/ai1",
        "filePath": "blog/ai1.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Building RASA Ai for entity extraction",
          "datePublished": "2024-11-19T00:00:00.000Z",
          "dateModified": "2024-11-19T00:00:00.000Z",
          "description": "Building sample NER model with RASA\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/ai1"
        }
      },
      "documentHash": "1736054648109",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/ask-my-medic.mdx": {
      "document": {
        "title": "Ask My Medic | Cancer, radiation, onocology",
        "date": "2025-01-05T00:00:00.000Z",
        "tags": [
          "Cancer",
          "radiation",
          "onocology"
        ],
        "summary": "Writing this on behalf of a friend of Santanu, who is reachable for seeking cancer related opinions or guidance\r",
        "body": {
          "raw": "\r\n![Santanu](http://www.askmymedic.com/Ask%20my%20medic_files/santanu.png)\r\n\r\nSantanu Samanta, MD is a Radiation Oncologist and Assistant Professor at the University of Arkansas for Medical Sciences, Little Rock, and the UAMS- Baptist Health, North Little Rock. He treats patients with head and neck and gynecological cancer with advanced treatment modalities and performs brachytherapy procedures for patients with gynecological cancers. His expertise includes treatment with proton therapy for head and neckï¿½skull base cancers, re-radiation treatments, and a variety of other cancers.\r\n\r\nDr. Samanta joined the UAMS team after completing a residency in Radiation Oncology at the University of Maryland, and Maryland Proton Treatment Center. Before this residency training, he also completed a residency training in radiation oncology at CMC Vellore, India.\r\n\r\nDr. Samanta received several academic research and travel grant awards during his residency training including the 2022 Radiological Society of North America (RSNA) Roentgen Resident/ Fellow award for outstanding research in 2022. He also served as the Chief resident of Radiation Oncology, at the University of Maryland from 2020-2021.\r\n\r\nOutside of medicine, Dr. Samanta enjoys traveling, playing soccer, cricket, and cooking.\r\n\r\nHere is a very basic website - [Ask My Medic website](http://www.askmymedic.com/index.html).\r\nMore will get added including scheduling appointment options. But for now reach out to whatsapp or email provided below.\r\n\r\n\r\n<img src=\"/images/whatsapp.svg\" />  <a href=\"https://wa.me/12407600433\">+1 (240) 760 0433</a>\r\n![email](/images/mail.svg) docsantanu@gmail.com\r\n",
          "code": "var Component=(()=>{var h=Object.create;var r=Object.defineProperty;var g=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var f=Object.getPrototypeOf,y=Object.prototype.hasOwnProperty;var u=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var t in e)r(a,t,{get:e[t],enumerable:!0})},c=(a,e,t,o)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let i of p(e))!y.call(a,i)&&i!==t&&r(a,i,{get:()=>e[i],enumerable:!(o=g(e,i))||o.enumerable});return a};var v=(a,e,t)=>(t=a!=null?h(f(a)):{},c(e||!a||!a.__esModule?r(t,\"default\",{value:a,enumerable:!0}):t,a)),M=a=>c(r({},\"__esModule\",{value:!0}),a);var d=u((R,s)=>{s.exports=_jsx_runtime});var S={};w(S,{default:()=>m,frontmatter:()=>k});var n=v(d()),k={title:\"Ask My Medic | Cancer, radiation, onocology\",date:\"2025-01-05\",tags:[\"Cancer\",\"radiation\",\"onocology\"],summary:\"Writing this on behalf of a friend of Santanu, who is reachable for seeking cancer related opinions or guidance\"};function l(a){let e={a:\"a\",div:\"div\",img:\"img\",p:\"p\",...a.components},{Image:t}=e;return t||x(\"Image\",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"Santanu\",src:\"http://www.askmymedic.com/Ask%20my%20medic_files/santanu.png\"})}),(0,n.jsx)(e.p,{children:\"Santanu Samanta, MD is a Radiation Oncologist and Assistant Professor at the University of Arkansas for Medical Sciences, Little Rock, and the UAMS- Baptist Health, North Little Rock. He treats patients with head and neck and gynecological cancer with advanced treatment modalities and performs brachytherapy procedures for patients with gynecological cancers. His expertise includes treatment with proton therapy for head and neck\\xEF\\xBF\\xBDskull base cancers, re-radiation treatments, and a variety of other cancers.\"}),(0,n.jsx)(e.p,{children:\"Dr. Samanta joined the UAMS team after completing a residency in Radiation Oncology at the University of Maryland, and Maryland Proton Treatment Center. Before this residency training, he also completed a residency training in radiation oncology at CMC Vellore, India.\"}),(0,n.jsx)(e.p,{children:\"Dr. Samanta received several academic research and travel grant awards during his residency training including the 2022 Radiological Society of North America (RSNA) Roentgen Resident/ Fellow award for outstanding research in 2022. He also served as the Chief resident of Radiation Oncology, at the University of Maryland from 2020-2021.\"}),(0,n.jsx)(e.p,{children:\"Outside of medicine, Dr. Samanta enjoys traveling, playing soccer, cricket, and cooking.\"}),(0,n.jsxs)(e.p,{children:[\"Here is a very basic website - \",(0,n.jsx)(e.a,{href:\"http://www.askmymedic.com/index.html\",children:\"Ask My Medic website\"}),\". More will get added including scheduling appointment options. But for now reach out to whatsapp or email provided below.\"]}),(0,n.jsxs)(e.div,{children:[(0,n.jsx)(\"img\",{src:\"/images/whatsapp.svg\"}),(0,n.jsx)(\"a\",{href:\"https://wa.me/12407600433\",children:\"+1 (240) 760 0433\"}),\" \",(0,n.jsx)(t,{alt:\"email\",src:\"/images/mail.svg\",width:\"16\",height:\"16\"}),\" \",(0,n.jsx)(e.a,{href:\"mailto:docsantanu@gmail.com\",children:\"docsantanu@gmail.com\"})]})]})}function m(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(l,{...a})}):l(a)}function x(a,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+a+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return M(S);})();\n;return Component;"
        },
        "_id": "blog/ask-my-medic.mdx",
        "_raw": {
          "sourceFilePath": "blog/ask-my-medic.mdx",
          "sourceFileName": "ask-my-medic.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/ask-my-medic"
        },
        "type": "Blog",
        "readingTime": {
          "text": "2 min read",
          "minutes": 1.07,
          "time": 64200,
          "words": 214
        },
        "slug": "ask-my-medic",
        "path": "blog/ask-my-medic",
        "filePath": "blog/ask-my-medic.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Ask My Medic | Cancer, radiation, onocology",
          "datePublished": "2025-01-05T00:00:00.000Z",
          "dateModified": "2025-01-05T00:00:00.000Z",
          "description": "Writing this on behalf of a friend of Santanu, who is reachable for seeking cancer related opinions or guidance\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/ask-my-medic"
        }
      },
      "documentHash": "1736057755075",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/blogspot-articles.mdx": {
      "document": {
        "title": "Old blogs from blogspot",
        "date": "+020213-06-06T04:00:00.000Z",
        "tags": [
          "blogspot",
          "javascript-frameworks",
          "js-inheritance",
          "struts2",
          "hibernate"
        ],
        "summary": "A list of old blogspot articles\r",
        "body": {
          "raw": "\r\n-   [My learning of frameworks and js libs](http://javascriptcodeideas.blogspot.com/)\r\n-   [Cornucopia](http://samarjitsamanta.blogspot.com/)\r\n-   [Homemade Linux SBC](http://mylinuxsbc.blogspot.com/)\r\n-   [struts2 json plugin SMDAction simplified](http://struts2ideas.blogspot.com/)\r\n-   [TO_CHAR(SYSDATE,... HH24:MI:SS') for H2 database](http://dateconvertion.blogspot.com/)\r\n-   [RandomThoughts](http://consultforfree.blogspot.com/)\r\n-   [Build your own Javascript UI framework](http://javascriptui.blogspot.com/)\r\n-   [Stolen idea from John Resig's simple inheritance](http://javascriptstolenideas.blogspot.com/)\r\n-   [Javascript ui framework list](http://javascript-ui-list.blogspot.com/)\r\n-   [Javascript playground](http://javascripttidbits.blogspot.com/)\r\n-   [Javascript frameworks opinions](http://jsframeworkopinion.blogspot.com/)\r\nAh! old opinion, but I think react is pretty good framework now, followed by viewjs angular. I still think something simple that can be added to any website for minimal interactivity is still worthwhile to keep building. May be alpinejs or knockoutjs can fill this spot. May be the string template engine within vanilla javascript can be improved to .\r\n-   [Future...](http://inside-future.blogspot.com/)\r\n-   [Hadoop](http://cloudcomputing-hadoop.blogspot.com/)\r\n-   [Class Reloading Webapp](http://classreloadingwebapp.blogspot.com/)\r\n-   [Boolean expression compiler](http://expression-parser.blogspot.com/)\r\n-   [Java: Hibernate in one File](http://hibernateinafile.blogspot.com/)\r\n-   [struts2 action return arbritrary result class](http://struts2-custom-result-class.blogspot.com/)",
          "code": "var Component=(()=>{var d=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),j=(e,t)=>{for(var o in t)l(e,o,{get:t[o],enumerable:!0})},a=(e,t,o,n)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let r of f(t))!b.call(e,r)&&r!==o&&l(e,r,{get:()=>t[r],enumerable:!(n=m(t,r))||n.enumerable});return e};var v=(e,t,o)=>(o=e!=null?d(u(e)):{},a(t||!e||!e.__esModule?l(o,\"default\",{value:e,enumerable:!0}):o,e)),w=e=>a(l({},\"__esModule\",{value:!0}),e);var c=g((M,s)=>{s.exports=_jsx_runtime});var y={};j(y,{default:()=>p,frontmatter:()=>x});var i=v(c()),x={title:\"Old blogs from blogspot\",date:\"20213-06-06\",tags:[\"blogspot\",\"javascript-frameworks\",\"js-inheritance\",\"struts2\",\"hibernate\"],summary:\"A list of old blogspot articles\"};function h(e){let t={a:\"a\",li:\"li\",ul:\"ul\",...e.components};return(0,i.jsxs)(t.ul,{children:[(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://javascriptcodeideas.blogspot.com/\",children:\"My learning of frameworks and js libs\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://samarjitsamanta.blogspot.com/\",children:\"Cornucopia\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://mylinuxsbc.blogspot.com/\",children:\"Homemade Linux SBC\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://struts2ideas.blogspot.com/\",children:\"struts2 json plugin SMDAction simplified\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://dateconvertion.blogspot.com/\",children:\"TO_CHAR(SYSDATE,... HH24:MI:SS') for H2 database\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://consultforfree.blogspot.com/\",children:\"RandomThoughts\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://javascriptui.blogspot.com/\",children:\"Build your own Javascript UI framework\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://javascriptstolenideas.blogspot.com/\",children:\"Stolen idea from John Resig's simple inheritance\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://javascript-ui-list.blogspot.com/\",children:\"Javascript ui framework list\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://javascripttidbits.blogspot.com/\",children:\"Javascript playground\"})}),(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:\"http://jsframeworkopinion.blogspot.com/\",children:\"Javascript frameworks opinions\"}),\" Ah! old opinion, but I think react is pretty good framework now, followed by viewjs angular. I still think something simple that can be added to any website for minimal interactivity is still worthwhile to keep building. May be alpinejs or knockoutjs can fill this spot. May be the string template engine within vanilla javascript can be improved to .\"]}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://inside-future.blogspot.com/\",children:\"Future...\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://cloudcomputing-hadoop.blogspot.com/\",children:\"Hadoop\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://classreloadingwebapp.blogspot.com/\",children:\"Class Reloading Webapp\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://expression-parser.blogspot.com/\",children:\"Boolean expression compiler\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://hibernateinafile.blogspot.com/\",children:\"Java: Hibernate in one File\"})}),(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:\"http://struts2-custom-result-class.blogspot.com/\",children:\"struts2 action return arbritrary result class\"})})]})}function p(e={}){let{wrapper:t}=e.components||{};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}return w(y);})();\n;return Component;"
        },
        "_id": "blog/blogspot-articles.mdx",
        "_raw": {
          "sourceFilePath": "blog/blogspot-articles.mdx",
          "sourceFileName": "blogspot-articles.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/blogspot-articles"
        },
        "type": "Blog",
        "readingTime": {
          "text": "1 min read",
          "minutes": 0.7,
          "time": 42000,
          "words": 140
        },
        "slug": "blogspot-articles",
        "path": "blog/blogspot-articles",
        "filePath": "blog/blogspot-articles.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Old blogs from blogspot",
          "datePublished": "+020213-06-06T04:00:00.000Z",
          "dateModified": "+020213-06-06T04:00:00.000Z",
          "description": "A list of old blogspot articles\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/blogspot-articles"
        }
      },
      "documentHash": "1735791660745",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/boolean-expression-evaluator.mdx": {
      "document": {
        "title": "Beginners guide to building boolean expression compiler",
        "date": "2019-03-24T00:00:00.000Z",
        "tags": [
          "parser-generator",
          "PEG-parser",
          "compiler-design"
        ],
        "summary": "Building compiler is a fun, you can start writing a DSL (domain specific language) following this article. Our choice is PEG grammar for this article.\r",
        "body": {
          "raw": "\r\nThis is a two part series. This is part 1, where we will learn to create a boolean expression parser which will read the expression and convert into a abstract syntax tree. The  [second part](https://medium.com/@samarjit.samanta/build-shopping-cart-promotion-engine-with-boolean-expressions-fe8ed31bb4f9)  is using that syntax tree and evaluate on a context object. The context is shopping cart and we will define a promotion as a boolean expression.\r\n\r\nWe will begin by defining the grammar in pegjs.  [PEG.js](https://pegjs.org/)  is a parser generator for javascript. Our expression will be a boolean expression. It can have function calls. Lets assume this expression works on a javascript object.\r\n\r\n```\r\ncontext = {  \r\n    name: 'sam',  \r\n    address: {  \r\n        addressLine: '2400 Dallas Pkwy',  \r\n        apartment: '356',  \r\n        state: 'TX'  \r\n    },  \r\n    projects: [  \r\n        { projName: 'pegjs parser', year: 2019 },  \r\n        { projName: 'pratt parser', year: 2019 },  \r\n        { projName: 'MyIMX233 PCB', year: 2017 }  \r\n    ],  \r\n    blogs: [  \r\n        { title: 'naive react', year: 2019 },  \r\n        { title: 'naive redux', year: 2018 }  \r\n    ]  \r\n}\r\n```\r\n\r\n## Lets target these rules\r\n\r\nThese rules take the context and can evaluate to some boolean result. These are mostly like filters, we can call these kinds of expressions as predicates. Then these predicates can be grouped into parenthesis. Also there can be functions calls which may return a number or boolean. If these return number we do some math on the result whose result will be boolean. Then comes the argument of functions. The arguments take the array name as first parameter, and a predicate as second parameter.\r\n\r\n```\r\n`name='sam' and address.addressLine='2400 Dallas Pkwy'`\r\n\r\n`name='sam' and count('projects', year=2019) > 1`\r\n\r\n`name='sam' and (exists('projects') or exists('blogs'))`\r\n\r\n`name='XX' and (address.state='TX' or address.state='CA')`\r\n\r\n`name='XX' and address.state='TX' and address.apartment=356`\r\n```\r\n\r\n## Grammar\r\n\r\nIn this whole article I will try to built the grammar and output will be AST (abstract syntax tree). The actual evaluation of AST might be part of another blog. So we are mostly working on the parser part of it. The generator is responsible of reading the AST and producing a target language syntax (ex. js, java) or object code.\r\n\r\nThis blog might get rather long, since I am going to show all steps and intermediate results. So that you get the hang of thinking process.\r\n\r\n## Other approaches\r\n\r\nAnother approach of parsing these expressions would be to use a hand written parser. A decent one can be written using recursive descent or pratt parser.\r\n\r\n## Simple Predicate\r\n\r\nIt has only one line basically left hand side+operator+right hand side. The lexer regex’es are one single terms. These are combined to create larger expressions. Lets parse this expression  `address.state='TX'`.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*MXMdTsS9gtjpEGO9dyqn9g.png)\r\n\r\nExpression term\r\n\r\n```\r\nstart = Predicate  \r\n      \r\nPredicate = left:identifier op:op right:value {return {op: op, left, value: right};}// lexer regex  \r\nop = '='value = _ id:[a-zA-Z0-9'-]+ _ {  \r\n  return id.join('');  \r\n}  \r\nidentifier = _ id:[a-zA-Z\\.]+ _ {  \r\n  return { name: id.join(''), type: 'identifier' };  \r\n}integer \"integer\"  \r\n  = _ [0-9]+ { return parseInt(text(), 10); }_ \"whitespace\"  \r\n  = [ \\t\\n\\r]*\r\n```\r\n\r\n## Simple Predicate Output\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*-Xk5q0gVbj1JuKRFyzlF_A.png)\r\n\r\nOutput for  `address.state='TX'`\r\n\r\nExtrapolating this technique can deal with binary operator expressions like this  `name='XX' and address.state='TX'`. But how can we chain these expressions. Lets target  `name='XX' and address.state='TX' and address.apartment=356`  next. We need to still make our expression backward compatible. Like if only  `name='XX'`  is there without any  `and`, it should still work. The little  `/Predicate`  does the trick. It tells AndExpr if it does not find the head or tail then fallback to match only Predicate.\r\n\r\n```\r\nstart = AndExpr  \r\n   \r\nAndExpr = head:Predicate tail:('and' Predicate)+ {  \r\n   let accum = [head];  \r\n   tail.reduce((accumulated, element) => {  \r\n             accumulated.push(element[1]);  \r\n                return accumulated;  \r\n            }, accum);  \r\n   return {op: 'and', predicates: accum};  \r\n  }  \r\n        /PredicatePredicate = left:identifier op:op right:value {return {op: op, left, value: right};}\r\n\r\n```\r\n\r\nOutput\r\n\r\n```\r\n{  \r\n   \"op\": \"and\",  \r\n   \"predicates\": [  \r\n      {  \r\n         \"op\": \"=\",  \r\n         \"left\": {  \r\n            \"name\": \"name\",  \r\n            \"type\": \"identifier\"  \r\n         },  \r\n         \"value\": \"'XX'\"  \r\n      },  \r\n      {  \r\n         \"op\": \"=\",  \r\n         \"left\": {  \r\n            \"name\": \"address.state\",  \r\n            \"type\": \"identifier\"  \r\n         },  \r\n         \"value\": \"'TX'\"  \r\n      },  \r\n      {  \r\n         \"op\": \"=\",  \r\n         \"left\": {  \r\n            \"name\": \"address.apartment\",  \r\n            \"type\": \"identifier\"  \r\n         },  \r\n         \"value\": \"356\"  \r\n      }  \r\n   ]  \r\n}\r\n```\r\n\r\nDealing with parenthesis should not be much of a problem. But sometimes recursion will take a while to wrap your head around this.\r\n\r\n```\r\nstart = OrExpr  \r\n   \r\nOrExpr = head:AndExpr tail:(_ 'or' _ AndExpr)+ {  \r\n   let accum = [head];  \r\n   tail.reduce((accumulated, element) => {  \r\n             accumulated.push(element[3]);  \r\n                return accumulated;  \r\n            }, accum);  \r\n   return {op: 'or', predicates: accum};  \r\n  }  \r\n        /AndExpr  \r\n          \r\nAndExpr = head:ParenExpr tail:(_ 'and' _ ParenExpr)+ {  \r\n   let accum = [head];  \r\n   tail.reduce((accumulated, element) => {  \r\n             accumulated.push(element[3]);  \r\n                return accumulated;  \r\n            }, accum);  \r\n   return {op: 'and', predicates: accum};  \r\n  }  \r\n        /ParenExprParenExpr = \"(\" exp:AndExpr \")\" { return exp; } / Predicate\r\n```\r\n\r\nAt this point we are able to handle this kind of expressions  `name=’XX’ and (address.state=’TX’ and address.apartment=356) and y=10`\r\n\r\nLets get the call expressions working. There is quite a bit going on here to disambiguate between  `and(...)`  vs  `fn(...)`. Note the keyword  `and`. To get around this we have to use ReservedWords concept. Since  `and`is a reserved word, it will not match the  `CallEx`. Notice how ArgsExpr also contains the OrExpr. Then finally the call function may be part of left hand side of an expression.\r\n\r\n```\r\nstart = OrExpr  \r\n   \r\n...  \r\n          \r\nAndExpr = head:CallExpr tail:(_ 'and' _ CallExpr)+ {  \r\n   let accum = [head];  \r\n   tail.reduce((accumulated, element) => {  \r\n             accumulated.push(element[3]);  \r\n                return accumulated;  \r\n            }, accum);  \r\n   return {op: 'and', predicates: accum};  \r\n  }  \r\n        /CallExprCallExpr = callex:CallEx _ op:op _ val:value { // functionRet() > 0  \r\n    return {op, callex, value: val};  \r\n   }  \r\n         /CallExArgsExpr = head:value _ ',' _ tail:OrExpr {  \r\n             tail.path = head;  \r\n    return tail;  \r\n     }  \r\n           /value  \r\n             \r\nCallEx = !ReservedWord ident:[a-zA-Z]+ '(' _ args: ArgsExpr _ ')' { // functionThatReturnsBoolean()  \r\n   return {type: 'CalExpr', name: ident.join(''), args: args};  \r\n           }  \r\n       / ParenExpr  \r\n         \r\nParenExpr = \"(\" exp:AndExpr \")\" { return exp; } / Predicate...\r\n```\r\n\r\nThis is already capable of parsing  `name=’XX’ and count(‘blog’, address.state=’TX’ and address.apartment=356) > 0 and y=10`.\r\n\r\n## Full Implementation showing all the use cases\r\n\r\nI did modify a bit, like the value expression now understands quoted string and the terminating quote should be same as starting quote, still it can be improved to understand escape sequence. Also spaces are included as part of value since we have quoted string.\r\n\r\nBelow you can see all the expressions in action.\r\n\r\nAll use cases + live expression evaluation with errors\r\n\r\n## Conclusion\r\n\r\nNow we have got a working lexer parser using pegjs grammar which produces AST. Writing this parser coding by hand would have taken a lot more thought process, but we could get a faster performance. Feel free to write a generator to execute these rules against the actual json context we imagined in the beginning. I will share the link in this post if you post in comments.\r\n\r\n[Second part](https://medium.com/@samarjit.samanta/build-shopping-cart-promotion-engine-with-boolean-expressions-fe8ed31bb4f9)  is all about evaluate the abstract syntax tree that we created in this part of the tutorial",
          "code": "var Component=(()=>{var h=Object.create;var l=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),y=(a,n)=>{for(var s in n)l(a,s,{get:n[s],enumerable:!0})},r=(a,n,s,t)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&l(a,c,{get:()=>n[c],enumerable:!(t=m(n,c))||t.enumerable});return a};var w=(a,n,s)=>(s=a!=null?h(N(a)):{},r(n||!a||!a.__esModule?l(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>r(l({},\"__esModule\",{value:!0}),a);var i=g((j,o)=>{o.exports=_jsx_runtime});var x={};y(x,{default:()=>d,frontmatter:()=>b});var e=w(i()),b={title:\"Beginners guide to building boolean expression compiler\",date:\"2019-03-24\",tags:[\"parser-generator\",\"PEG-parser\",\"compiler-design\"],summary:\"Building compiler is a fun, you can start writing a DSL (domain specific language) following this article. Our choice is PEG grammar for this article.\"};function p(a){let n={a:\"a\",code:\"code\",h2:\"h2\",img:\"img\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(n.p,{children:[\"This is a two part series. This is part 1, where we will learn to create a boolean expression parser which will read the expression and convert into a abstract syntax tree. The \",(0,e.jsx)(n.a,{href:\"https://medium.com/@samarjit.samanta/build-shopping-cart-promotion-engine-with-boolean-expressions-fe8ed31bb4f9\",children:\"second part\"}),\" is using that syntax tree and evaluate on a context object. The context is shopping cart and we will define a promotion as a boolean expression.\"]}),(0,e.jsxs)(n.p,{children:[\"We will begin by defining the grammar in pegjs. \",(0,e.jsx)(n.a,{href:\"https://pegjs.org/\",children:\"PEG.js\"}),\" is a parser generator for javascript. Our expression will be a boolean expression. It can have function calls. Lets assume this expression works on a javascript object.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"context \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'sam'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"address\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"addressLine\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'2400 Dallas Pkwy'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"apartment\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'356'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"state\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'TX'\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"projects\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"projName\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'pegjs parser'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"year\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2019\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"projName\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'pratt parser'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"year\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2019\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"projName\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'MyIMX233 PCB'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"year\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2017\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"blogs\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"title\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'naive react'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"year\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2019\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"title\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'naive redux'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"year\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2018\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"lets-target-these-rules\",children:[(0,e.jsx)(n.a,{href:\"#lets-target-these-rules\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Lets target these rules\"]}),(0,e.jsx)(n.p,{children:\"These rules take the context and can evaluate to some boolean result. These are mostly like filters, we can call these kinds of expressions as predicates. Then these predicates can be grouped into parenthesis. Also there can be functions calls which may return a number or boolean. If these return number we do some math on the result whose result will be boolean. Then comes the argument of functions. The arguments take the array name as first parameter, and a predicate as second parameter.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"name='sam' and address.addressLine='2400 Dallas Pkwy'\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"name='sam' and count('projects', year=2019) > 1\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"name='sam' and (exists('projects') or exists('blogs'))\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"name='XX' and (address.state='TX' or address.state='CA')\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"name='XX' and address.state='TX' and address.apartment=356\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),`\n`]})]})}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"grammar\",children:[(0,e.jsx)(n.a,{href:\"#grammar\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Grammar\"]}),(0,e.jsx)(n.p,{children:\"In this whole article I will try to built the grammar and output will be AST (abstract syntax tree). The actual evaluation of AST might be part of another blog. So we are mostly working on the parser part of it. The generator is responsible of reading the AST and producing a target language syntax (ex. js, java) or object code.\"}),(0,e.jsx)(n.p,{children:\"This blog might get rather long, since I am going to show all steps and intermediate results. So that you get the hang of thinking process.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"other-approaches\",children:[(0,e.jsx)(n.a,{href:\"#other-approaches\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Other approaches\"]}),(0,e.jsx)(n.p,{children:\"Another approach of parsing these expressions would be to use a hand written parser. A decent one can be written using recursive descent or pratt parser.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"simple-predicate\",children:[(0,e.jsx)(n.a,{href:\"#simple-predicate\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Simple Predicate\"]}),(0,e.jsxs)(n.p,{children:[\"It has only one line basically left hand side+operator+right hand side. The lexer regex\\u2019es are one single terms. These are combined to create larger expressions. Lets parse this expression \",(0,e.jsx)(n.code,{children:\"address.state='TX'\"}),\".\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*MXMdTsS9gtjpEGO9dyqn9g.png\"})}),(0,e.jsx)(n.p,{children:\"Expression term\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"start \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`      \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" left\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"identifier op\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"op right\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"value \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" op\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" left\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token comment\",children:\"// lexer regex  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"op \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'='\"}),\"value \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" _ id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"a\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"zA\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"Z0\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),\"'\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"join\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"identifier \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" _ id\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"a\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"zA\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"Z\"}),\"\\\\\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" id\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"join\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'identifier'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\"integer \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"integer\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"0\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"9\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"parseInt\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function\",children:\"text\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\"_ \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"whitespace\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\" \\\\t\\\\n\\\\r\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),`\n`]})]})}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"simple-predicate-output\",children:[(0,e.jsx)(n.a,{href:\"#simple-predicate-output\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Simple Predicate Output\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*-Xk5q0gVbj1JuKRFyzlF_A.png\"})}),(0,e.jsxs)(n.p,{children:[\"Output for \",(0,e.jsx)(n.code,{children:\"address.state='TX'\"})]}),(0,e.jsxs)(n.p,{children:[\"Extrapolating this technique can deal with binary operator expressions like this \",(0,e.jsx)(n.code,{children:\"name='XX' and address.state='TX'\"}),\". But how can we chain these expressions. Lets target \",(0,e.jsx)(n.code,{children:\"name='XX' and address.state='TX' and address.apartment=356\"}),\" next. We need to still make our expression backward compatible. Like if only \",(0,e.jsx)(n.code,{children:\"name='XX'\"}),\" is there without any \",(0,e.jsx)(n.code,{children:\"and\"}),\", it should still work. The little \",(0,e.jsx)(n.code,{children:\"/Predicate\"}),\" does the trick. It tells AndExpr if it does not find the head or tail then fallback to match only Predicate.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"start \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`   \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),\" tail\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" accum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"head\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"reduce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" element\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"             accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"predicates\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"PredicatePredicate\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" left\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"identifier op\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"op right\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"value \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" op\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" left\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" right\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`\n`})]})}),(0,e.jsx)(n.p,{children:\"Output\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"op\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"and\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"predicates\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"op\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"=\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"left\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"type\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"identifier\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"value\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:`\"'XX'\"`}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"op\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"=\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"left\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"address.state\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"type\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"identifier\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"value\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:`\"'TX'\"`}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"op\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"=\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"left\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"name\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"address.apartment\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"type\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"identifier\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:'\"value\"'}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"356\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Dealing with parenthesis should not be much of a problem. But sometimes recursion will take a while to wrap your head around this.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"start \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OrExpr\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`   \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OrExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" tail\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_ \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'or'\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" accum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"head\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"reduce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" element\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"             accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'or'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"predicates\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ParenExpr\"}),\" tail\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_ \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ParenExpr\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" accum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"head\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"reduce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" element\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"             accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"predicates\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ParenExprParenExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"(\"'}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"exp\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\")\"'}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" exp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"At this point we are able to handle this kind of expressions \",(0,e.jsx)(n.code,{children:\"name=\\u2019XX\\u2019 and (address.state=\\u2019TX\\u2019 and address.apartment=356) and y=10\"})]}),(0,e.jsxs)(n.p,{children:[\"Lets get the call expressions working. There is quite a bit going on here to disambiguate between \",(0,e.jsx)(n.code,{children:\"and(...)\"}),\" vs \",(0,e.jsx)(n.code,{children:\"fn(...)\"}),\". Note the keyword \",(0,e.jsx)(n.code,{children:\"and\"}),\". To get around this we have to use ReservedWords concept. Since \",(0,e.jsx)(n.code,{children:\"and\"}),\"is a reserved word, it will not match the \",(0,e.jsx)(n.code,{children:\"CallEx\"}),\". Notice how ArgsExpr also contains the OrExpr. Then finally the call function may be part of left hand side of an expression.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"start \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OrExpr\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`   \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`          \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallExpr\"}),\" tail\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"_ \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallExpr\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" accum \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"head\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"reduce\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" element\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"             accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"element\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" accumulated\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"op\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'and'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"predicates\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" accum\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallExprCallExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" callex\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallEx\"}),\" _ op\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"op _ val\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"value \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// functionRet() > 0  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\"op\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" callex\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"value\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" val\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"         \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallExArgsExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"value _ \",(0,e.jsx)(n.span,{className:\"token string\",children:\"','\"}),\" _ tail\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"OrExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"             tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"path\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" head\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" tail\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"           \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),`value  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`             \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"CallEx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ReservedWord\"}),\" ident\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),\"a\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\"zA\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"Z\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'('\"}),\" _ args\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ArgsExpr\"}),\" _ \",(0,e.jsx)(n.span,{className:\"token string\",children:\"')'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// functionThatReturnsBoolean()  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'CalExpr'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" ident\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token function property-access method\",children:\"join\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"args\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" args\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"           \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ParenExpr\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`         \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"ParenExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"(\"'}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"exp\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AndExpr\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\")\"'}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" exp\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"/\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Predicate\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"This is already capable of parsing \",(0,e.jsx)(n.code,{children:\"name=\\u2019XX\\u2019 and count(\\u2018blog\\u2019, address.state=\\u2019TX\\u2019 and address.apartment=356) > 0 and y=10\"}),\".\"]}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"full-implementation-showing-all-the-use-cases\",children:[(0,e.jsx)(n.a,{href:\"#full-implementation-showing-all-the-use-cases\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Full Implementation showing all the use cases\"]}),(0,e.jsx)(n.p,{children:\"I did modify a bit, like the value expression now understands quoted string and the terminating quote should be same as starting quote, still it can be improved to understand escape sequence. Also spaces are included as part of value since we have quoted string.\"}),(0,e.jsx)(n.p,{children:\"Below you can see all the expressions in action.\"}),(0,e.jsx)(n.p,{children:\"All use cases + live expression evaluation with errors\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"conclusion\",children:[(0,e.jsx)(n.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Conclusion\"]}),(0,e.jsx)(n.p,{children:\"Now we have got a working lexer parser using pegjs grammar which produces AST. Writing this parser coding by hand would have taken a lot more thought process, but we could get a faster performance. Feel free to write a generator to execute these rules against the actual json context we imagined in the beginning. I will share the link in this post if you post in comments.\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.a,{href:\"https://medium.com/@samarjit.samanta/build-shopping-cart-promotion-engine-with-boolean-expressions-fe8ed31bb4f9\",children:\"Second part\"}),\" is all about evaluate the abstract syntax tree that we created in this part of the tutorial\"]})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return f(x);})();\n;return Component;"
        },
        "_id": "blog/boolean-expression-evaluator.mdx",
        "_raw": {
          "sourceFilePath": "blog/boolean-expression-evaluator.mdx",
          "sourceFileName": "boolean-expression-evaluator.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/boolean-expression-evaluator"
        },
        "type": "Blog",
        "readingTime": {
          "text": "6 min read",
          "minutes": 5.57,
          "time": 334200,
          "words": 1114
        },
        "slug": "boolean-expression-evaluator",
        "path": "blog/boolean-expression-evaluator",
        "filePath": "blog/boolean-expression-evaluator.mdx",
        "toc": [
          {
            "value": "Lets target these rules",
            "url": "#lets-target-these-rules",
            "depth": 2
          },
          {
            "value": "Grammar",
            "url": "#grammar",
            "depth": 2
          },
          {
            "value": "Other approaches",
            "url": "#other-approaches",
            "depth": 2
          },
          {
            "value": "Simple Predicate",
            "url": "#simple-predicate",
            "depth": 2
          },
          {
            "value": "Simple Predicate Output",
            "url": "#simple-predicate-output",
            "depth": 2
          },
          {
            "value": "Full Implementation showing all the use cases",
            "url": "#full-implementation-showing-all-the-use-cases",
            "depth": 2
          },
          {
            "value": "Conclusion",
            "url": "#conclusion",
            "depth": 2
          }
        ],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Beginners guide to building boolean expression compiler",
          "datePublished": "2019-03-24T00:00:00.000Z",
          "dateModified": "2019-03-24T00:00:00.000Z",
          "description": "Building compiler is a fun, you can start writing a DSL (domain specific language) following this article. Our choice is PEG grammar for this article.\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/boolean-expression-evaluator"
        }
      },
      "documentHash": "1735794750089",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/boolean-expression-promotionengine.mdx": {
      "document": {
        "title": "Build Shopping Cart promotion engine with boolean expressions",
        "date": "2020-06-06T00:00:00.000Z",
        "tags": [
          "parser-generator",
          "PEG-parser",
          "compiler-design",
          "promotion-engine"
        ],
        "summary": "Build a promotions evalution engine based on target and qualifiers defined via an expression language.\r",
        "body": {
          "raw": "\r\nBuild Shopping Cart promotion engine with boolean expressions\r\nsamarjit.samanta\r\nsamarjit.samanta\r\n\r\n3 min read\r\n·\r\nJul 6, 2020\r\n\r\n\r\n\r\n\r\n\r\nBoolean expression parser as we built in the previous post is used to create a domain specific language DSL. In this post we will see how to evaluate such DSL. Here we modified the language slightly to make it fit for building a promotion engine. Under the hood, we are still going to use a PEG.js based grammar. If you are unclear about how to write basic grammar I highly recommend reading the previous post.\r\n\r\nA promotion needs to match a cart with several conditions satisfied. A very succinct way of defining all the conditions is to define it as a complex boolean expression. In this chapter we are going to look at how to evaluate such boolean expression. But lets first see how the expression might look like.\r\n\r\n> Expression\r\n> Promotion1:\r\n> \r\n> Buy 2 iphone and get $400 off\r\n> productCount(productModel=\"IPHONE\") > 1\r\n> \r\n> Promotion2:\r\n> \r\n> Buy any phone and a phone case and get $50 off\r\n> \r\n> productExists(productType=\"PHONE\" and price > 600) and productExists(productType=\"CASE\")\r\n\r\n\r\nLets breakdown the expression to see the concept behind it. Instead of calling these as regular functions lets call them as selector functions. The argument these functions take is basically a line-item selector. The function operates on the selected line-item. So productModel=\"IPHONE\" is the line-item selector. This is not an assignment operation, the equal symbol is a logical equality checker. Left hand side is a property and right hand side is a constant with which the property is matched. This property is expected to be present in each line-item (context). So this expression can be evaluated on any context which has these properties productModel, productType and price.\r\n\r\nContext/Line-Item\r\nLets create a context to evaluate the above expression.\r\n\r\n```\r\nLine 1: {\"productType\":\"PHONE\",\"productModel\":\"IPHONE\",\"price\":800}\r\nLine 2: {\"productType\":\"CASE\",\"productModel\":\"ClearCase\",\"price\":20}\r\n```\r\nNow let see how the above expressions should behave. For promotion1 to be satisfied two of the line-item must be a IPHONE. We have only one IPHONE in our context so the promotion1 should evaluate to false. For the promotion2 however any phone with price more than 600 should match line1. The second part is that one of the line-items must contain a CASE. So since both the conditions are matching promotion2 must should evaluate to true.\r\n\r\nRules Engine\r\nThe rules engine consists of expression tree traversal and start evaluation from the leaf nodes. Then as we go higher up in the tree combine the result from the level below and so on. Eventually at the end of traversal when you reach the root node you will have some boolean value left. That should be the result of the entire expression. Another way to look at it is, assume the expression tree to be a prefixed expression. Prefix expression evaluation seems to fit machines very well. Eg. ‘-AB’. read ‘-’ push it onto stack. After that machine knows how many variables to read before evaluation. For unary operator only one variable is required for binary two variables in this case ‘A’ and ‘B’.\r\n\r\nThe selector function is context specific. In our case the selector portion knows how to iterate over the line-items, and pass each line-item for selector expression evaluation. This is how the pseudo code would look like\r\n\r\n```\r\nfunction evalRule(rule, context) {\r\nhandle rule for primitive operators and context\r\n// recursively call child rules\r\nhandle rule for nested operator. call evalRule(childRule, context)\r\nhandle rule for selector functions\r\n     loop over context line-items\r\n        evalRule(selectorRule, line-items)\r\n        aggregate results based on type of function\r\n}\r\n```\r\n\r\nInteractive Example\r\nFinally lets see some interactive examples. You can make the changes to product line-items to match our promotion1, by adding another IPHONE line-item to the cart. Add to cart is simple, just select a product from product list and all selected products make up the cart.\r\n\r\nIf you are interested further you can create your own promotion to match the line items, or match new line-items that you can create.\r\n\r\n\r\n",
          "code": "var Component=(()=>{var d=Object.create;var s=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var k=Object.getPrototypeOf,N=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),f=(a,e)=>{for(var t in e)s(a,t,{get:e[t],enumerable:!0})},i=(a,e,t,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of u(e))!N.call(a,o)&&o!==t&&s(a,o,{get:()=>e[o],enumerable:!(r=m(e,o))||r.enumerable});return a};var y=(a,e,t)=>(t=a!=null?d(k(a)):{},i(e||!a||!a.__esModule?s(t,\"default\",{value:a,enumerable:!0}):t,a)),w=a=>i(s({},\"__esModule\",{value:!0}),a);var c=g((E,l)=>{l.exports=_jsx_runtime});var b={};f(b,{default:()=>h,frontmatter:()=>x});var n=y(c()),x={title:\"Build Shopping Cart promotion engine with boolean expressions\",date:\"2020-06-06\",tags:[\"parser-generator\",\"PEG-parser\",\"compiler-design\",\"promotion-engine\"],summary:\"Build a promotions evalution engine based on target and qualifiers defined via an expression language.\"};function p(a){let e={blockquote:\"blockquote\",code:\"code\",p:\"p\",pre:\"pre\",span:\"span\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"Build Shopping Cart promotion engine with boolean expressions samarjit.samanta samarjit.samanta\"}),(0,n.jsx)(e.p,{children:\"3 min read \\xB7 Jul 6, 2020\"}),(0,n.jsx)(e.p,{children:\"Boolean expression parser as we built in the previous post is used to create a domain specific language DSL. In this post we will see how to evaluate such DSL. Here we modified the language slightly to make it fit for building a promotion engine. Under the hood, we are still going to use a PEG.js based grammar. If you are unclear about how to write basic grammar I highly recommend reading the previous post.\"}),(0,n.jsx)(e.p,{children:\"A promotion needs to match a cart with several conditions satisfied. A very succinct way of defining all the conditions is to define it as a complex boolean expression. In this chapter we are going to look at how to evaluate such boolean expression. But lets first see how the expression might look like.\"}),(0,n.jsxs)(e.blockquote,{children:[(0,n.jsx)(e.p,{children:\"Expression Promotion1:\"}),(0,n.jsx)(e.p,{children:'Buy 2 iphone and get $400 off productCount(productModel=\"IPHONE\") > 1'}),(0,n.jsx)(e.p,{children:\"Promotion2:\"}),(0,n.jsx)(e.p,{children:\"Buy any phone and a phone case and get $50 off\"}),(0,n.jsx)(e.p,{children:'productExists(productType=\"PHONE\" and price > 600) and productExists(productType=\"CASE\")'})]}),(0,n.jsx)(e.p,{children:'Lets breakdown the expression to see the concept behind it. Instead of calling these as regular functions lets call them as selector functions. The argument these functions take is basically a line-item selector. The function operates on the selected line-item. So productModel=\"IPHONE\" is the line-item selector. This is not an assignment operation, the equal symbol is a logical equality checker. Left hand side is a property and right hand side is a constant with which the property is matched. This property is expected to be present in each line-item (context). So this expression can be evaluated on any context which has these properties productModel, productType and price.'}),(0,n.jsx)(e.p,{children:\"Context/Line-Item Lets create a context to evaluate the above expression.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Line\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"productType\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"PHONE\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"productModel\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"IPHONE\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"price\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"800\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Line\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"productType\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"CASE\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"productModel\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"ClearCase\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(e.span,{className:\"token property string-property\",children:'\"price\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"20\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Now let see how the above expressions should behave. For promotion1 to be satisfied two of the line-item must be a IPHONE. We have only one IPHONE in our context so the promotion1 should evaluate to false. For the promotion2 however any phone with price more than 600 should match line1. The second part is that one of the line-items must contain a CASE. So since both the conditions are matching promotion2 must should evaluate to true.\"}),(0,n.jsx)(e.p,{children:\"Rules Engine The rules engine consists of expression tree traversal and start evaluation from the leaf nodes. Then as we go higher up in the tree combine the result from the level below and so on. Eventually at the end of traversal when you reach the root node you will have some boolean value left. That should be the result of the entire expression. Another way to look at it is, assume the expression tree to be a prefixed expression. Prefix expression evaluation seems to fit machines very well. Eg. \\u2018-AB\\u2019. read \\u2018-\\u2019 push it onto stack. After that machine knows how many variables to read before evaluation. For unary operator only one variable is required for binary two variables in this case \\u2018A\\u2019 and \\u2018B\\u2019.\"}),(0,n.jsx)(e.p,{children:\"The selector function is context specific. In our case the selector portion knows how to iterate over the line-items, and pass each line-item for selector expression evaluation. This is how the pseudo code would look like\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"evalRule\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"rule\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" context\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"handle rule \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),` primitive operators and context\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token comment\",children:\"// recursively call child rules\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"handle rule \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),\" nested operator\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\" \",(0,n.jsx)(e.span,{className:\"token property-access\",children:\"call\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"evalRule\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"childRule\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" context\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"handle rule \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),` selector functions\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"     loop over context line\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),`items\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token function\",children:\"evalRule\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"selectorRule\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" line\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"items\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        aggregate results based on type \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Interactive Example Finally lets see some interactive examples. You can make the changes to product line-items to match our promotion1, by adding another IPHONE line-item to the cart. Add to cart is simple, just select a product from product list and all selected products make up the cart.\"}),(0,n.jsx)(e.p,{children:\"If you are interested further you can create your own promotion to match the line items, or match new line-items that you can create.\"})]})}function h(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(p,{...a})}):p(a)}return w(b);})();\n;return Component;"
        },
        "_id": "blog/boolean-expression-promotionengine.mdx",
        "_raw": {
          "sourceFilePath": "blog/boolean-expression-promotionengine.mdx",
          "sourceFileName": "boolean-expression-promotionengine.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/boolean-expression-promotionengine"
        },
        "type": "Blog",
        "readingTime": {
          "text": "4 min read",
          "minutes": 3.345,
          "time": 200700,
          "words": 669
        },
        "slug": "boolean-expression-promotionengine",
        "path": "blog/boolean-expression-promotionengine",
        "filePath": "blog/boolean-expression-promotionengine.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Build Shopping Cart promotion engine with boolean expressions",
          "datePublished": "2020-06-06T00:00:00.000Z",
          "dateModified": "2020-06-06T00:00:00.000Z",
          "description": "Build a promotions evalution engine based on target and qualifiers defined via an expression language.\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/boolean-expression-promotionengine"
        }
      },
      "documentHash": "1735781742493",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/datasourceform.mdx": {
      "document": {
        "title": "Datasourceform a javascript datadriven development UI library",
        "date": "2013-08-04T00:00:00.000Z",
        "tags": [
          "javascript",
          "datasource",
          "datadriven forms",
          "datadriven tables"
        ],
        "summary": "Datadriven development UI library abstracts backend API into datasource and connect them to filterable grid tables and forms for editing.\r",
        "body": {
          "raw": "\r\n##Javascript Datasource##\r\nJavascript datasource is used to supply data to various data driven components.\r\n[Repo](https://github.com/samarjit/DatasourceForm/blob/master/)\r\n\r\nDatasource is composed of two parts. \r\n* SchemaReader - used to convert any form of input data (CSV, JSON, ARRAY) to javascript array optionally\r\n capture some extra met data alsso.\r\n* Datasource - Supports Pager, filter, sorter, save , update operations are supported on javascript array \r\n  provided or read by SchemaReader. This can also handle remote as well as local data using separate fetch url,\r\n  update url, delete url. \r\n* Observable data - This is totally unrelated to datasource functionality of datasource, but this works well in \r\n conjunction with existing components that use datasource so it can be updated on datasource refresh events.\r\n\r\nDemo page: [demo](http://samarjit.github.io/DatasourceForm/index.html)\r\n###Additional Components###\r\nThere is a component where dynamic forms can be created only on the basis of model. \r\nOther data driven component which can accept datasource are autocomplete, grids, combobox.\r\nThis datasource is basically jquery dataview which is the still unreleased version of jquery-ui grid. Only\r\nSchemaReader is is integrted to create a standalone component with rich features that can be used completely by \r\njson configuration without writing any javascritp code.\r\n\r\n##SchemaReader##\r\nThis returns simple array or object based on configuration. \r\nThis is similar to YUI schema reader.\r\n\r\nThe optiosn accepted are :\r\n\r\n```Javascript\r\n options = {\r\n  \t\t\trootList: \"data\",\r\n\t\t\t\tmeta: \"\",\r\n\t\t\t\tdatatype: \"json\",\r\n\t\t\t\titems: [],\r\n\t\t\t\tresultFields: null//[{name: \"name\",  mapping: \"name\" /*can be xpath,json path\r\n\t\t\t\t                  // or javascript function*/}, {name: \"email\"}]\r\n\t\t\t\t,\r\n\t\t\t\tcsvFieldSep : \",\",\r\n\t\t\t\tcsvRecordSep: \"\\r\\n\",\r\n\t\t\t\tcsvFieldDelimiter: '\"'\r\n\t\t\t};\r\n```\r\nThe [options] needs to be filled with details specified above\r\n[data] - can be array or object with one of the property can be array. This property can be specified as rootList\r\n\r\n```javascript\r\nreader = new SchemaReader([options]);\t\r\nvar res1 = reader.read([data]); //result array/object\r\n\r\n//Once schemareader object is created its options can be overridden by\r\nreader.options.resultFields = ['name','email'];\r\nvar res2 = reader.read(data1);\r\n```\r\n\r\n\r\ndatatype - can be json,csv\r\nresultFields - Data transformation is done based on this parameter for JSON. There is data property mapping as well as\r\ndata property filtering. \r\n\r\n###The following are three types for JSON reader.###\r\n\r\n* Type 1. `[{name: \"name\",  mapping: \"full_name\" }, {name: \"email\", mapping: \"email_id\"}]`\r\n\r\n```javascript\r\nreader = new SchemaReader({resultFields: [{name: \"name\",  mapping: \"full_name\" },\r\n                                         {name: \"email\", mapping: \"email_id\"}]});\r\nreader.read([data]); // -> transformed result\r\n```\r\n\r\n```javascript\r\nIf the [data] input is \r\n[{\r\n  full_name: \"samarjit\",\r\n  email_id: \"samarjit@email\",\r\n  extra: \"extra value\"\r\n },\r\n {\r\n full_name: \"tutu\",\r\n email_id: \"tutu@email\",\r\n extra: \"extra value2\"\r\n }\r\n]\r\n\r\nAfter data is read by SchemaReader it will be transformed to\r\n[\r\n  {\r\n  name: \"samarjit\",\r\n  email: \"samarjit@email\"\r\n  },\r\n  {\r\n  name: \"tutu\",\r\n  email: \"tutu@email\"\r\n  }\r\n]\r\n```\r\n\r\n* Type 2. `[\"name\",\"email\"]`. This will be internally treated as `[{name: \"name\",  mapping: \"name\" }, {name: \"email\", mapping: \"email\"}]`\r\n\r\n```javascript\r\nreader.options.resultFields = ['name','email']; \r\nvar res2 = reader.read([data]);\r\n```\r\n\r\n```javascript\r\nIf the data input is \r\n[{\r\n  name: \"samarjit\",\r\n  email: \"samarjit@email\",\r\n  extra: \"extra value\"\r\n },\r\n {\r\n name: \"tutu\",\r\n email: \"tutu@email\",\r\n extra: \"extra value2\"\r\n }\r\n]\r\n\r\nAfter data is read by SchemaReader it will be transformed to\r\n[\r\n  {\r\n  name: \"samarjit\",\r\n  email: \"samarjit@email\"\r\n  },\r\n  {\r\n  name: \"tutu\",\r\n  email: \"tutu@email\"\r\n  }\r\n]\r\n```\r\n\r\n* Type 3 input data which is not an array *\r\nData presented in the form of object and if any property of that object is an array that array can also be extracted.\r\nAddition to this metadata can be also extracted\r\n\r\nThe rootList option is used to extract this array. Internally it uses jsonPath to extact the data\r\n\r\n```javascript\r\nvar data7 = {\r\n\t\t\tmeta1: 'This is meta1',\r\n\t\t\tmyarr: [{\r\n\t\t\t  full_name: \"samarjit\",\r\n\t\t\t  email: \"samarjit@email\",\r\n\t\t\t  extra: \"extra value\"\r\n\t\t\t },\r\n\t\t\t {\r\n\t\t\t full_name: \"tutu\",\r\n\t\t\t email: \"tutu@email\",\r\n\t\t\t extra: \"extra value2\"\r\n\t\t\t }]\r\n\t\t};\r\n\t\t\r\nreader.options.resultFields = [{ name: 'name', mapping: 'full_name'}, {name:'email'}];\r\nreader.options.rootList = \"myarr\";\r\nreader.options.datatype=\"json\";\r\nreader.read(data7); ==> [{\"name\":\"samarjit\",\"email\":\"samarjit@email\"},\r\n{\"name\":\"tutu\",\"email\":\"tutu@email\"}]\r\n```\t\r\n\t\t\r\n\r\n###CSV reader###\r\nThe csv data can be specified as a combination of fields seperators and record separators.\r\n\r\nThe default comma seperated values with record separator \r\n\r\n``` \r\ncsvFieldSep : \",\",\r\ncsvRecordSep: \"\\r\\n\",  //it will handle line ending with either \\r or ]n also\r\ncsvFieldDelimiter: '\"'\r\n```\r\n\r\nSuppose input data is \r\n\r\n```json\r\n120, samarjit, sam@email\r\n121, tutu, tutu@email\r\n```\r\n\r\nAnd resultFields is `[{ name: \"id\", mapping: 0} , {name: \"name\", mapping: 1}, {name: \"email\", mapping: 2}]`\r\n\r\n```javascript\r\nvar reader1 = new SchemaReader();\r\nreader1.options.datatype=\"csv\";\r\nreader1.options.resultFields = [{ name: \"id\", mapping: 0} , {name: \"name\", mapping: 1}, {name: \"email\", mapping: 2}];\r\n\r\nvar res4 = reader1.read(data4);\r\n```\r\nThen the result data would be like.\r\n\r\n```javascript\r\n[\r\n  {\r\n  id: 120,\r\n  name: \"samarjit\",\r\n  email: \"samarjit@email\"\r\n  },\r\n  {\r\n  id: 121,\r\n  name: \"tutu\",\r\n  email: \"tutu@email\"\r\n  }\r\n]\r\n```\r\n\r\nAlternate CSV syntax for any general text file syntax\r\nFor data\r\n```javascript\r\nvar data5 = \"sam#sgp#2011!tutu#ind#2012\";\r\n\r\nreader.options.datatype=\"csv\";\r\nreader.options.resultFields = [{name:\"name\",mapping: 0}, {name: \"year\",mapping:2}];\r\nreader.options.csvfieldSep = \"#\";\r\nreader.options.csvRecordSep = \"!\";\r\nvar res5 = reader.read(data5);\r\n\r\nres5 =>\r\n[{\"name\":\"sam\",\"year\":\"2011\"},{\"name\":\"tutu\",\"year\":\"2012\"}]\r\n\r\n```\r\n\r\n\r\nTODO:\r\nAlthough I have not yet written a wrapper for XML a similar wrapper can be written for XML also, where mappign will \r\nbe xpath.\r\n\r\nAnother feature is meta tags for getting the paging, limit, offset, filter criterion, sort id and sort order\r\n of data apart form the Array data.\r\n \r\n\r\n```javascript\r\n data = [{\r\n\t\t\tname: \"sam\",\r\n\t\t\temail: \"sam@email\"\r\n\t        }];\r\n\t model = [ {name: \"name\", type: \"string\", capturetype: \"text\", displaytype: \"displayText\", label: \"Name\", searchable: true, isPartOfKey: true, convertToModel: null /*view to model*/, convertToView: null /*model to view*/ \t},\r\n\t\t\t   {name: \"email\", type: \"string\", capturetype: \"email\", displaytype: \"displayText\", label: \"Email\", searchable: true, isPartOfKey: true, convertToModel: null /*view to model*/, convertToView: null /*model to view*/ \t},\r\n\t\t\t\t];\r\n\t\t\r\n\t\t\r\n\t var datasource = $.uix.datasource({reader: new SchemaReader(), model: model ,rawdata: data, paging:{limit: 1} });\r\n\tdatasource.options.input ->  is data as defined above\r\n\tdatasource.refresh(); //initialize datasource mechanism\r\n\tdatasource.result -> internal object to be used by widgets that uses datasource\t\r\n```\r\n",
          "code": "var Component=(()=>{var m=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var y=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),g=(n,e)=>{for(var s in e)t(n,s,{get:e[s],enumerable:!0})},l=(n,e,s,r)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!k.call(n,c)&&c!==s&&t(n,c,{get:()=>e[c],enumerable:!(r=h(e,c))||r.enumerable});return n};var v=(n,e,s)=>(s=n!=null?m(u(n)):{},l(e||!n||!n.__esModule?t(s,\"default\",{value:n,enumerable:!0}):s,n)),f=n=>l(t({},\"__esModule\",{value:!0}),n);var p=y((x,o)=>{o.exports=_jsx_runtime});var j={};g(j,{default:()=>d,frontmatter:()=>b});var a=v(p()),b={title:\"Datasourceform a javascript datadriven development UI library\",date:\"2013-08-04\",tags:[\"javascript\",\"datasource\",\"datadriven forms\",\"datadriven tables\"],summary:\"Datadriven development UI library abstracts backend API into datasource and connect them to filterable grid tables and forms for editing.\"};function i(n){let e={a:\"a\",code:\"code\",li:\"li\",p:\"p\",pre:\"pre\",span:\"span\",ul:\"ul\",...n.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(e.p,{children:[\"##Javascript Datasource## Javascript datasource is used to supply data to various data driven components. \",(0,a.jsx)(e.a,{href:\"https://github.com/samarjit/DatasourceForm/blob/master/\",children:\"Repo\"})]}),(0,a.jsx)(e.p,{children:\"Datasource is composed of two parts.\"}),(0,a.jsxs)(e.ul,{children:[(0,a.jsx)(e.li,{children:\"SchemaReader - used to convert any form of input data (CSV, JSON, ARRAY) to javascript array optionally capture some extra met data alsso.\"}),(0,a.jsx)(e.li,{children:\"Datasource - Supports Pager, filter, sorter, save , update operations are supported on javascript array provided or read by SchemaReader. This can also handle remote as well as local data using separate fetch url, update url, delete url.\"}),(0,a.jsx)(e.li,{children:\"Observable data - This is totally unrelated to datasource functionality of datasource, but this works well in conjunction with existing components that use datasource so it can be updated on datasource refresh events.\"})]}),(0,a.jsxs)(e.p,{children:[\"Demo page: \",(0,a.jsx)(e.a,{href:\"http://samarjit.github.io/DatasourceForm/index.html\",children:\"demo\"}),\" ###Additional Components### There is a component where dynamic forms can be created only on the basis of model. Other data driven component which can accept datasource are autocomplete, grids, combobox. This datasource is basically jquery dataview which is the still unreleased version of jquery-ui grid. Only SchemaReader is is integrted to create a standalone component with rich features that can be used completely by json configuration without writing any javascritp code.\"]}),(0,a.jsx)(e.p,{children:\"##SchemaReader## This returns simple array or object based on configuration. This is similar to YUI schema reader.\"}),(0,a.jsx)(e.p,{children:\"The optiosn accepted are :\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"code-highlight language-Javascript\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" options \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"rootList\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"data\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"meta\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"datatype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"json\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"items\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"resultFields\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,a.jsx)(e.span,{className:\"token comment\",children:'//[{name: \"name\",  mapping: \"name\" /*can be xpath,json path'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t                  \",(0,a.jsx)(e.span,{className:\"token comment\",children:'// or javascript function*/}, {name: \"email\"}]'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvFieldSep\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\",\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvRecordSep\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"\\\\r\\\\n\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvFieldDelimiter\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:`'\"'`}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"The [options] needs to be filled with details specified above [data] - can be array or object with one of the property can be array. This property can be specified as rootList\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,a.jsx)(e.span,{className:\"token class-name\",children:\"SchemaReader\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"options\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\t\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" res1 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"//result array/object\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token comment\",children:\"//Once schemareader object is created its options can be overridden by\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"resultFields\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'name'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'email'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" res2 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data1\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"datatype - can be json,csv resultFields - Data transformation is done based on this parameter for JSON. There is data property mapping as well as data property filtering.\"}),(0,a.jsx)(e.p,{children:\"###The following are three types for JSON reader.###\"}),(0,a.jsx)(e.ul,{children:(0,a.jsxs)(e.li,{children:[\"Type 1. \",(0,a.jsx)(e.code,{children:'[{name: \"name\", mapping: \"full_name\" }, {name: \"email\", mapping: \"email_id\"}]'})]})}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,a.jsx)(e.span,{className:\"token class-name\",children:\"SchemaReader\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"resultFields\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"full_name\"'}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"                                         \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"email_id\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"// -> transformed result\"}),`\n`]})]})}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"If\"}),\" the \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),` input is \\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"full_name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email_id\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"full_name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email_id\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value2\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"After\"}),\" data is read by \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"SchemaReader\"}),` it will be transformed to\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,a.jsx)(e.ul,{children:(0,a.jsxs)(e.li,{children:[\"Type 2. \",(0,a.jsx)(e.code,{children:'[\"name\",\"email\"]'}),\". This will be internally treated as \",(0,a.jsx)(e.code,{children:'[{name: \"name\", mapping: \"name\" }, {name: \"email\", mapping: \"email\"}]'})]})}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"resultFields\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'name'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'email'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),` \\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" res2 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"data\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"If\"}),` the data input is \\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value2\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"After\"}),\" data is read by \",(0,a.jsx)(e.span,{className:\"token maybe-class-name\",children:\"SchemaReader\"}),` it will be transformed to\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,a.jsx)(e.ul,{children:(0,a.jsx)(e.li,{children:\"Type 3 input data which is not an array * Data presented in the form of object and if any property of that object is an array that array can also be extracted. Addition to this metadata can be also extracted\"})}),(0,a.jsx)(e.p,{children:\"The rootList option is used to extract this array. Internally it uses jsonPath to extact the data\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" data7 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"meta1\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'This is meta1'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"myarr\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"full_name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"full_name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"extra\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"extra value2\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\t\t\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"resultFields\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'name'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:\"'full_name'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:\"'email'\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"rootList\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"myarr\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"datatype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"json\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data7\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"###CSV reader### The csv data can be specified as a combination of fields seperators and record separators.\"}),(0,a.jsx)(e.p,{children:\"The default comma seperated values with record separator\"}),(0,a.jsx)(e.pre,{className:\"language-js\",children:(0,a.jsxs)(e.code,{className:\"code-highlight language-js\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvFieldSep\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\",\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvRecordSep\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"\\\\r\\\\n\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\"  \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"//it will handle line ending with either \\\\r or ]n also\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"csvFieldDelimiter\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:`'\"'`}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"Suppose input data is\"}),(0,a.jsx)(e.pre,{className:\"language-json\",children:(0,a.jsxs)(e.code,{className:\"code-highlight language-json\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token number\",children:\"120\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" samarjit\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),` sam@email\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token number\",children:\"121\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" tutu\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),` tutu@email\n`]})]})}),(0,a.jsxs)(e.p,{children:[\"And resultFields is \",(0,a.jsx)(e.code,{children:'[{ name: \"id\", mapping: 0} , {name: \"name\", mapping: 1}, {name: \"email\", mapping: 2}]'})]}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" reader1 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,a.jsx)(e.span,{className:\"token class-name\",children:\"SchemaReader\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader1\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"datatype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"csv\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader1\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"resultFields\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"id\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" res4 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" reader1\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data4\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"Then the result data would be like.\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"id\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"120\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"samarjit@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"id\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"121\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\n`]})]})}),(0,a.jsx)(e.p,{children:\"Alternate CSV syntax for any general text file syntax For data\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" data5 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"sam#sgp#2011!tutu#ind#2012\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"datatype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"csv\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"resultFields\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"year\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"mapping\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token number\",children:\"2\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"csvfieldSep\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"#\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"csvRecordSep\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"!\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" res5 \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" reader\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"read\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"data5\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token parameter\",children:\"res5\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"sam\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"year\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"2011\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"tutu\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property string-property\",children:'\"year\"'}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token string\",children:'\"2012\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\n`})]})}),(0,a.jsx)(e.p,{children:\"TODO: Although I have not yet written a wrapper for XML a similar wrapper can be written for XML also, where mappign will be xpath.\"}),(0,a.jsx)(e.p,{children:\"Another feature is meta tags for getting the paging, limit, offset, filter criterion, sort id and sort order of data apart form the Array data.\"}),(0,a.jsx)(e.pre,{className:\"language-javascript\",children:(0,a.jsxs)(e.code,{className:\"language-javascript code-highlight\",children:[(0,a.jsxs)(e.span,{className:\"code-line\",children:[\" data \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"sam\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"email\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"sam@email\"'}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t        \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t model \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"name\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"type\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"string\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"capturetype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"displaytype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"displayText\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"label\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"Name\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"searchable\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"isPartOfKey\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"convertToModel\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"/*view to model*/\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"convertToView\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"/*model to view*/\"}),\" \t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t   \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"name\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"type\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"string\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"capturetype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"displaytype\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"displayText\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"label\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token string\",children:'\"Email\"'}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"searchable\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"isPartOfKey\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"convertToModel\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"/*view to model*/\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"convertToView\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"/*model to view*/\"}),\" \t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t\t\t\t\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\t\t\\r\n`}),(0,a.jsx)(e.span,{className:\"code-line\",children:`\t\t\\r\n`}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\t \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" datasource \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" $\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"uix\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"datasource\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"reader\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,a.jsx)(e.span,{className:\"token class-name\",children:\"SchemaReader\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"model\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" model \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"rawdata\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" data\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"paging\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,a.jsx)(e.span,{className:\"token property literal-property\",children:\"limit\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,a.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\tdatasource\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"options\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"input\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),\"  is data \",(0,a.jsx)(e.span,{className:\"token keyword module\",children:\"as\"}),` defined above\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\tdatasource\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access function method\",children:\"refresh\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,a.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,a.jsx)(e.span,{className:\"token comment\",children:\"//initialize datasource mechanism\"}),`\\r\n`]}),(0,a.jsxs)(e.span,{className:\"code-line\",children:[\"\tdatasource\",(0,a.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,a.jsx)(e.span,{className:\"token property-access\",children:\"result\"}),\" \",(0,a.jsx)(e.span,{className:\"token operator\",children:\"-\"}),(0,a.jsx)(e.span,{className:\"token operator\",children:\">\"}),` internal object to be used by widgets that uses datasource\t\n`]})]})})]})}function d(n={}){let{wrapper:e}=n.components||{};return e?(0,a.jsx)(e,{...n,children:(0,a.jsx)(i,{...n})}):i(n)}return f(j);})();\n;return Component;"
        },
        "_id": "blog/datasourceform.mdx",
        "_raw": {
          "sourceFilePath": "blog/datasourceform.mdx",
          "sourceFileName": "datasourceform.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/datasourceform"
        },
        "type": "Blog",
        "readingTime": {
          "text": "5 min read",
          "minutes": 4.66,
          "time": 279600,
          "words": 932
        },
        "slug": "datasourceform",
        "path": "blog/datasourceform",
        "filePath": "blog/datasourceform.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Datasourceform a javascript datadriven development UI library",
          "datePublished": "2013-08-04T00:00:00.000Z",
          "dateModified": "2013-08-04T00:00:00.000Z",
          "description": "Datadriven development UI library abstracts backend API into datasource and connect them to filterable grid tables and forms for editing.\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/datasourceform"
        }
      },
      "documentHash": "1736053927934",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/koa-router-ajv-swaggergen.mdx": {
      "document": {
        "title": "koa-router schema validation and swagger api doc generation",
        "date": "2025-01-01T00:00:00.000Z",
        "tags": [
          "koa-router",
          "koa",
          "ajv",
          "swagger",
          "openapi"
        ],
        "summary": "Just define json schema within a koa router, which will automatically create a documentation and input validation using the schema\r",
        "body": {
          "raw": "\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*I0sEalY854OQhkFeM31Kfg.gif)\r\n\r\nlib: koa-router-ajv-swaggergen (woah such a big name)\r\n\r\nKoa is a webframework very similar to expressjs. Its not a complete webframework rather a middleware framework as it allows writing middlewares easily in async way. Now that means you need a lot of plumbing to make it useful. But either way you will start off by selecting a router module of which there are many. Very soon you will realize that you need to write input validations, and eventually in a distributed team some sort of document to maintain apis and there are many more of this libs. Well granted you will need many more things to get going like authentication authorization, perhaps distributed logging, security. These are all independent libs that may require pick and choose approach. If you want everything baked in the framework, choose fastify or hapi and be happy about it. Now I like koa’s middleware framework and its flexibility.\r\n\r\nTo make things simpler lets first focus on sticking with the @koa/router, lets not rebuild yet another routers that does only ‘X’. This module does 3 things. This does not reimplement koa-router instead creates wrapper around koa-router (@koa/router). The lib might also support other routers out-of-box or with little tweak. (Feel free to fork :))\r\n\r\nNow that we have got the router, we need to be able to support validation, and for lazy people like me I like to define a schema and get majority of the validation done through json schema. I have chosen  [ajv](https://ajv.js.org/). Now that we have the schema, so the api doc can be derived from this schema. Before creating this lib, I started out writing jsdoc comments to generates swagger, not bad approach but it poses another burden of keeping jsdoc in sync to schema. Annotations aka decorators to create swagger doc has the same problem too, they are not directly linked to schema.\r\n\r\n> Thanks to fastify-swagger, fastify-oas, koa-mapper, koa-joi-swagger for inspiration.\r\n\r\n1.  Define schema while defining router\r\n2.  Schema will be used for validation of queryparams, headers, pathparams, request body.\r\n3.  Schema will be used for generating openapi 3 json.\r\n\r\nYou can open this openapi3 json in  [http://editor.swagger.io](http://editor.swagger.io/)  to view the document. Optionally you can integrate swagger viewer in your application. Follow the index.js to see how it is done. Following snippet shows the main parts.\r\n\r\n# Quick start Example\r\n\r\n`npm install koa-router-ajv-swaggergen`  in your project. Additionally if want to setup swagger viewer  `npm install -D swagger-ui-dist`\r\n\r\n```\r\nconst Koa = require('koa')  \r\nconst Router = require('@koa/router');  \r\nconst Myrouter = require('koa-router-ajv-swaggergen');  \r\nconst router = new Myrouter(new Router(), 'prefix');const app = new Koa();// // requires `npm install -D swagger-ui-dist` to run swagger ui locally, otherwise comment this line  \r\n// Myrouter.setupSwaggerUI(router, 'prefix');// // pass 'router' for json error response for this router, or pass 'app' for all errors to be converted to json  \r\n// Myrouter.setupJsonErrors(router); router.get('/',  \r\n  {  \r\n    schema: {  \r\n      summary: 'Minimal example',  \r\n      description: 'This is a minimal setup',  \r\n      querystring: {  \r\n        type: 'object',  \r\n        required: ['name'],  \r\n        properties: {  \r\n          name: { type: 'string' },  \r\n          excitement: { type: 'integer' }  \r\n        }  \r\n      },  \r\n      response: {  \r\n        200: {  \r\n          type: 'object',  \r\n          properties: {  \r\n            hello: { type: 'string' }  \r\n          }  \r\n        }  \r\n      }  \r\n    }  \r\n  },  \r\n  (ctx) => {  \r\n    console.log('reqId', ctx.query.name);  \r\n    ctx.body = { hello: ctx.query.name, excitement:  ctx.query.excitement};  \r\n  }  \r\n);app.use(router.routes());app.listen(3000, () => {  \r\n  console.log(`server listening on 3000`)  \r\n})\r\n```\r\n\r\nOpen browser  [http://localhost:3000/prefix/openapi.json](http://localhost:3000/prefix/openapi.json)  If you have setup swagger ui viewer open in browser  [http://localhost:3000/swagger](http://localhost:3000/swagger)\r\n\r\n![](https://miro.medium.com/v2/resize:fit:755/0*JrDJc-tH6ZDKJtTx.jpg)\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/0*CGdW11RuRbW8LgB3.jpg)\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/0*AYIgVcyzQubp_Ca-.jpg)\r\n\r\n# Some more details\r\n\r\n```\r\nconst Router = require('@koa/router');  \r\nconst Myrouter = require('../../routerwrapper');  \r\nconst router = new Myrouter(new Router(), 'prefix'); // prefix is required to access different routes\r\n```\r\n\r\nNow you can use the  `router`  object like you would use koa-router i.e. even without a schema. But you can add schema which will start showing this route in swagger json and do schema validation.\r\n\r\n```\r\nrouter.get('/auth/get-user-profile', {  \r\n    schema: {  \r\n        querystring: {  \r\n            username: { type: 'string' }  \r\n        },  \r\n        responses: {  \r\n            '200': {  \r\n                description: 'returns user details or redirect url /auth/login if not logged in'  \r\n            },  \r\n        }  \r\n    }  \r\n}, async (ctx) => {  \r\n  ctx.body = '';  \r\n})\r\n```\r\nNow the apidoc json is available at  [http://localhost](http://localhost/):/prefix.openapi.json. You can have other router instances wrapped with a different prefix, and those will be available  [http://localhost](http://localhost/):/anotherprefix.openapi.json.\r\n\r\n# Reusable schema\r\n\r\nYou can register schema globally in the router and reuse it in multiple routes\r\n\r\n```\r\nrouter.addSchema('commonSchema', {  \r\n  type: 'object',  \r\n  properties: {  \r\n    hello: { type: 'string' }  \r\n  }  \r\n})router.post('/', {  \r\n  schema: {  \r\n    body: { $ref: '#/components/schemas/commonSchema' },  \r\n    headers: { $ref: '#/components/schemas/commonSchema' }  \r\n  }  \r\n}, (ctx) => { ctx.body = 'post /'; })\r\n```\r\n\r\n# Validation\r\n\r\nA more complete example, in fact this is directly taken from fastify-swagger documentation. Note the querystring and pathparams objects can be simplified as in this example. But if you need to control required then expanded format will need to be defined.\r\n\r\n```\r\nconst bodyJsonSchema = {  \r\n  type: 'object',  \r\n  required: ['requiredKey'],  \r\n  properties: {  \r\n    someKey: { type: 'string' },  \r\n    someOtherKey: { type: 'number' },  \r\n    requiredKey: {  \r\n      type: 'array',  \r\n      maxItems: 3,  \r\n      items: { type: 'integer' }  \r\n    },  \r\n    nullableKey: { type: ['number', 'null'] }, // or { type: 'number', nullable: true }  \r\n    multipleTypesKey: { type: ['boolean', 'number'] },  \r\n    multipleRestrictedTypesKey: {  \r\n      oneOf: [  \r\n        { type: 'string', maxLength: 5 },  \r\n        { type: 'number', minimum: 10 }  \r\n      ]  \r\n    },  \r\n    enumKey: {  \r\n      type: 'string',  \r\n      enum: ['John', 'Foo']  \r\n    },  \r\n    notTypeKey: {  \r\n      not: { type: 'array' }  \r\n    }  \r\n  }  \r\n}// This is less verbose way of defining schema which works for querystring and params   \r\n// You can choose more verbose way of defining schema in the ajv way  \r\nconst queryStringJsonSchema = {  \r\n  name: { type: 'string' }, // add required: true if you want to make it required  \r\n  excitement: { type: 'boolean' } // query strings are normally strings but it is coerced to boolean and then validated  \r\n}const paramsJsonSchema = {  \r\n  par1: { type: 'string' },  \r\n  par2: { type: 'number' }  \r\n}const headersJsonSchema = {  \r\n  type: 'object',  \r\n  properties: {  \r\n    'x-foo': { type: 'string' }  \r\n  },  \r\n  required: ['x-foo']  \r\n}const schema = {  \r\n  body: bodyJsonSchema,  \r\n  querystring: queryStringJsonSchema,  \r\n  params: paramsJsonSchema,  \r\n  headers: headersJsonSchema  \r\n}router.post('/the/url/:par1/:par2', { schema }, (ctx) => {  \r\n  ctx.body = 'post /the/url';  \r\n})\r\n```\r\n\r\n# Integrating swagger viewer\r\n\r\nIntegrating swagger viewer is trivial. Get the static distribution instead of serving static directory from node_modules, serve it and rewrite content as required. I found this is the easiest way to mount into a different directory other than root. Swagger js and css’es do not understand relative paths\r\n\r\nnpm install -D swagger-ui-dist\r\n\r\nEasy way is to use a provided helper method.  `Myrouter.setupSwaggerUI(router, 'prefix');`\r\n\r\nHere is what this helper function essentially does.\r\n\r\n```\r\nconst swaggerUiAssetPath = require(\"swagger-ui-dist\").getAbsoluteFSPath();  \r\n// Mount in your favourite path eg. '/swagger'  \r\nrouter.get('/swagger', ctx => {  \r\n  ctx.type = 'html';  \r\n  let fileAsString = fs.readFileSync(`${swaggerUiAssetPath}/index.html`);//  \r\n  ctx.body = String(fileAsString).replace(/url\\: \\\"https.*/m, `url: \"prefix/openapi.json\",`);  \r\n});  \r\n// Following static assets do not recognize relative paths.  \r\nrouter.get('/swagger-ui.css', ctx => {  \r\n  ctx.type = \"text/css\"  \r\n  ctx.body = fs.createReadStream(`${swaggerUiAssetPath}/swagger-ui.css`);  \r\n});  \r\nrouter.get('/swagger-ui-bundle.js', ctx => {  \r\n  ctx.type = \"application/javascript\"  \r\n  ctx.body = fs.createReadStream(`${swaggerUiAssetPath}/swagger-ui-bundle.js`);  \r\n});  \r\nrouter.get('/swagger-ui-standalone-preset.js', ctx => {  \r\n  ctx.type = \"application/javascript\"  \r\n  ctx.body = fs.createReadStream(`${swaggerUiAssetPath}/swagger-ui-standalone-preset.js`);  \r\n});\r\n```\r\n\r\n# For developers of this library\r\n\r\nGit clone the repository. Run  `npm install`  You run the  `node src\\index-test.js`  or simply run  `npm run dev`. It has a few samples to get started. Open browser at  [http://localhost:3000/swagger](http://localhost:3000/swagger)\r\n\r\n# Conclusion\r\n\r\nThis library is very new, it does have some shortcomings like schema may not be fully compliant with openapi3 specs. Local swagger viewer is more forgiving and does not complain. There are no tests yet. I just carved out a part of my other project into this library. So, I am going to fix any major defects. PRs are also welcome  [https://github.com/samarjit/koa-router-ajv-swaggergen](https://github.com/samarjit/koa-router-ajv-swaggergen).\r\n\r\n \r\n\r\nKoa Router\r\n\r\n ",
          "code": "var Component=(()=>{var h=Object.create;var c=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var y=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),g=(a,n)=>{for(var s in n)c(a,s,{get:n[s],enumerable:!0})},l=(a,n,s,r)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let t of u(n))!k.call(a,t)&&t!==s&&c(a,t,{get:()=>n[t],enumerable:!(r=m(n,t))||r.enumerable});return a};var w=(a,n,s)=>(s=a!=null?h(N(a)):{},l(n||!a||!a.__esModule?c(s,\"default\",{value:a,enumerable:!0}):s,a)),f=a=>l(c({},\"__esModule\",{value:!0}),a);var i=y((j,o)=>{o.exports=_jsx_runtime});var x={};g(x,{default:()=>d,frontmatter:()=>b});var e=w(i()),b={title:\"koa-router schema validation and swagger api doc generation\",date:\"2025-01-01\",tags:[\"koa-router\",\"koa\",\"ajv\",\"swagger\",\"openapi\"],summary:\"Just define json schema within a koa router, which will automatically create a documentation and input validation using the schema\"};function p(a){let n={a:\"a\",blockquote:\"blockquote\",code:\"code\",h1:\"h1\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*I0sEalY854OQhkFeM31Kfg.gif\"})}),(0,e.jsx)(n.p,{children:\"lib: koa-router-ajv-swaggergen (woah such a big name)\"}),(0,e.jsx)(n.p,{children:\"Koa is a webframework very similar to expressjs. Its not a complete webframework rather a middleware framework as it allows writing middlewares easily in async way. Now that means you need a lot of plumbing to make it useful. But either way you will start off by selecting a router module of which there are many. Very soon you will realize that you need to write input validations, and eventually in a distributed team some sort of document to maintain apis and there are many more of this libs. Well granted you will need many more things to get going like authentication authorization, perhaps distributed logging, security. These are all independent libs that may require pick and choose approach. If you want everything baked in the framework, choose fastify or hapi and be happy about it. Now I like koa\\u2019s middleware framework and its flexibility.\"}),(0,e.jsx)(n.p,{children:\"To make things simpler lets first focus on sticking with the @koa/router, lets not rebuild yet another routers that does only \\u2018X\\u2019. This module does 3 things. This does not reimplement koa-router instead creates wrapper around koa-router (@koa/router). The lib might also support other routers out-of-box or with little tweak. (Feel free to fork :))\"}),(0,e.jsxs)(n.p,{children:[\"Now that we have got the router, we need to be able to support validation, and for lazy people like me I like to define a schema and get majority of the validation done through json schema. I have chosen \",(0,e.jsx)(n.a,{href:\"https://ajv.js.org/\",children:\"ajv\"}),\". Now that we have the schema, so the api doc can be derived from this schema. Before creating this lib, I started out writing jsdoc comments to generates swagger, not bad approach but it poses another burden of keeping jsdoc in sync to schema. Annotations aka decorators to create swagger doc has the same problem too, they are not directly linked to schema.\"]}),(0,e.jsx)(n.blockquote,{children:(0,e.jsx)(n.p,{children:\"Thanks to fastify-swagger, fastify-oas, koa-mapper, koa-joi-swagger for inspiration.\"})}),(0,e.jsxs)(n.ol,{children:[(0,e.jsx)(n.li,{children:\"Define schema while defining router\"}),(0,e.jsx)(n.li,{children:\"Schema will be used for validation of queryparams, headers, pathparams, request body.\"}),(0,e.jsx)(n.li,{children:\"Schema will be used for generating openapi 3 json.\"})]}),(0,e.jsxs)(n.p,{children:[\"You can open this openapi3 json in \",(0,e.jsx)(n.a,{href:\"http://editor.swagger.io/\",children:\"http://editor.swagger.io\"}),\" to view the document. Optionally you can integrate swagger viewer in your application. Follow the index.js to see how it is done. Following snippet shows the main parts.\"]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"quick-start-example\",children:[(0,e.jsx)(n.a,{href:\"#quick-start-example\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Quick start Example\"]}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"npm install koa-router-ajv-swaggergen\"}),\" in your project. Additionally if want to setup swagger viewer \",(0,e.jsx)(n.code,{children:\"npm install -D swagger-ui-dist\"})]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Koa\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'koa'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Router\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'@koa/router'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Myrouter\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'koa-router-ajv-swaggergen'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" router \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Myrouter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Router\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'prefix'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" app \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Koa\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token comment\",children:\"// // requires `npm install -D swagger-ui-dist` to run swagger ui locally, otherwise comment this line  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Myrouter.setupSwaggerUI(router, 'prefix');// // pass 'router' for json error response for this router, or pass 'app' for all errors to be converted to json  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Myrouter.setupJsonErrors(router); router.get('/',  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"schema\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"summary\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Minimal example'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"description\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'This is a minimal setup'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"querystring\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'object'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"required\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'name'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"properties\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"excitement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'integer'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"response\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token number\",children:\"200\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'object'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"properties\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"hello\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"          \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'reqId'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"hello\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"excitement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"query\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"excitement\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"app\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"use\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"routes\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"app\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"listen\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"3000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"server listening on 3000\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Open browser \",(0,e.jsx)(n.a,{href:\"http://localhost:3000/prefix/openapi.json\",children:\"http://localhost:3000/prefix/openapi.json\"}),\" If you have setup swagger ui viewer open in browser \",(0,e.jsx)(n.a,{href:\"http://localhost:3000/swagger\",children:\"http://localhost:3000/swagger\"})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:755/0*JrDJc-tH6ZDKJtTx.jpg\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/0*CGdW11RuRbW8LgB3.jpg\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/0*AYIgVcyzQubp_Ca-.jpg\"})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"some-more-details\",children:[(0,e.jsx)(n.a,{href:\"#some-more-details\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Some more details\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Router\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'@koa/router'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Myrouter\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'../../routerwrapper'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" router \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Myrouter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Router\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'prefix'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// prefix is required to access different routes\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Now you can use the \",(0,e.jsx)(n.code,{children:\"router\"}),\" object like you would use koa-router i.e. even without a schema. But you can add schema which will start showing this route in swagger json and do schema validation.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/auth/get-user-profile'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"schema\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"querystring\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"username\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"responses\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:\"'200'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"                \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"description\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'returns user details or redirect url /auth/login if not logged in'\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"async\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"''\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"Now the apidoc json is available at \",(0,e.jsx)(n.a,{href:\"http://localhost/\",children:\"http://localhost\"}),\":/prefix.openapi.json. You can have other router instances wrapped with a different prefix, and those will be available \",(0,e.jsx)(n.a,{href:\"http://localhost/\",children:\"http://localhost\"}),\":/anotherprefix.openapi.json.\"]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"reusable-schema\",children:[(0,e.jsx)(n.a,{href:\"#reusable-schema\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Reusable schema\"]}),(0,e.jsx)(n.p,{children:\"You can register schema globally in the router and reuse it in multiple routes\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"addSchema\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'commonSchema'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'object'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"properties\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"hello\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"post\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"schema\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"body\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"$ref\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'#/components/schemas/commonSchema'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"headers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"$ref\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'#/components/schemas/commonSchema'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'post /'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"validation\",children:[(0,e.jsx)(n.a,{href:\"#validation\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Validation\"]}),(0,e.jsx)(n.p,{children:\"A more complete example, in fact this is directly taken from fastify-swagger documentation. Note the querystring and pathparams objects can be simplified as in this example. But if you need to control required then expanded format will need to be defined.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" bodyJsonSchema \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'object'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"required\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'requiredKey'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"properties\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"someKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"someOtherKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"requiredKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'array'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"maxItems\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"3\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"items\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'integer'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"nullableKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'null'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// or { type: 'number', nullable: true }  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"multipleTypesKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'boolean'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"multipleRestrictedTypesKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"oneOf\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"maxLength\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"5\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"minimum\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"10\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"enumKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"enum\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'John'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Foo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"notTypeKey\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"      \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"not\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'array'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token comment\",children:\"// This is less verbose way of defining schema which works for querystring and params   \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// You can choose more verbose way of defining schema in the ajv way  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" queryStringJsonSchema \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// add required: true if you want to make it required  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"excitement\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'boolean'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"// query strings are normally strings but it is coerced to boolean and then validated  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" paramsJsonSchema \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"par1\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"par2\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'number'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" headersJsonSchema \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'object'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"properties\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token property string-property\",children:\"'x-foo'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"required\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'x-foo'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" schema \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"body\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" bodyJsonSchema\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"querystring\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" queryStringJsonSchema\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"params\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" paramsJsonSchema\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token property literal-property\",children:\"headers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),` headersJsonSchema  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"post\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/the/url/:par1/:par2'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" schema \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'post /the/url'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})]})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"integrating-swagger-viewer\",children:[(0,e.jsx)(n.a,{href:\"#integrating-swagger-viewer\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Integrating swagger viewer\"]}),(0,e.jsx)(n.p,{children:\"Integrating swagger viewer is trivial. Get the static distribution instead of serving static directory from node_modules, serve it and rewrite content as required. I found this is the easiest way to mount into a different directory other than root. Swagger js and css\\u2019es do not understand relative paths\"}),(0,e.jsx)(n.p,{children:\"npm install -D swagger-ui-dist\"}),(0,e.jsxs)(n.p,{children:[\"Easy way is to use a provided helper method. \",(0,e.jsx)(n.code,{children:\"Myrouter.setupSwaggerUI(router, 'prefix');\"})]}),(0,e.jsx)(n.p,{children:\"Here is what this helper function essentially does.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" swaggerUiAssetPath \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"require\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'\"swagger-ui-dist\"'}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"getAbsoluteFSPath\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Mount in your favourite path eg. '/swagger'  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/swagger'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'html'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"let\"}),\" fileAsString \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"readFileSync\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"swaggerUiAssetPath\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"/index.html\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token comment\",children:\"//  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name known-class-name\",children:\"String\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fileAsString\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"replace\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token regex\",children:[(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsxs)(n.span,{className:\"token language-regex regex-source\",children:[\"url\",(0,e.jsx)(n.span,{className:\"token escape\",children:\"\\\\:\"}),\" \",(0,e.jsx)(n.span,{className:\"token escape\",children:'\\\\\"'}),\"https\",(0,e.jsx)(n.span,{className:\"token class-name char-set\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token number quantifier\",children:\"*\"})]}),(0,e.jsx)(n.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,e.jsx)(n.span,{className:\"token regex-flags\",children:\"m\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:'url: \"prefix/openapi.json\",'}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Following static assets do not recognize relative paths.  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/swagger-ui.css'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"text/css\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createReadStream\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"swaggerUiAssetPath\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"/swagger-ui.css\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/swagger-ui-bundle.js'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"application/javascript\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createReadStream\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"swaggerUiAssetPath\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"/swagger-ui-bundle.js\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"router\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'/swagger-ui-standalone-preset.js'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token parameter\",children:\"ctx\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:'\"application/javascript\"'}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  ctx\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"body\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" fs\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createReadStream\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"${\"}),\"swaggerUiAssetPath\",(0,e.jsx)(n.span,{className:\"token punctuation interpolation-punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token string\",children:\"/swagger-ui-standalone-preset.js\"}),(0,e.jsx)(n.span,{className:\"token string template-punctuation\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"for-developers-of-this-library\",children:[(0,e.jsx)(n.a,{href:\"#for-developers-of-this-library\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"For developers of this library\"]}),(0,e.jsxs)(n.p,{children:[\"Git clone the repository. Run \",(0,e.jsx)(n.code,{children:\"npm install\"}),\" You run the \",(0,e.jsx)(n.code,{children:\"node src\\\\index-test.js\"}),\" or simply run \",(0,e.jsx)(n.code,{children:\"npm run dev\"}),\". It has a few samples to get started. Open browser at \",(0,e.jsx)(n.a,{href:\"http://localhost:3000/swagger\",children:\"http://localhost:3000/swagger\"})]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"conclusion\",children:[(0,e.jsx)(n.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Conclusion\"]}),(0,e.jsxs)(n.p,{children:[\"This library is very new, it does have some shortcomings like schema may not be fully compliant with openapi3 specs. Local swagger viewer is more forgiving and does not complain. There are no tests yet. I just carved out a part of my other project into this library. So, I am going to fix any major defects. PRs are also welcome \",(0,e.jsx)(n.a,{href:\"https://github.com/samarjit/koa-router-ajv-swaggergen\",children:\"https://github.com/samarjit/koa-router-ajv-swaggergen\"}),\".\"]}),(0,e.jsx)(n.p,{children:\"Koa Router\"})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return f(x);})();\n;return Component;"
        },
        "_id": "blog/koa-router-ajv-swaggergen.mdx",
        "_raw": {
          "sourceFilePath": "blog/koa-router-ajv-swaggergen.mdx",
          "sourceFileName": "koa-router-ajv-swaggergen.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/koa-router-ajv-swaggergen"
        },
        "type": "Blog",
        "readingTime": {
          "text": "7 min read",
          "minutes": 6.275,
          "time": 376500,
          "words": 1255
        },
        "slug": "koa-router-ajv-swaggergen",
        "path": "blog/koa-router-ajv-swaggergen",
        "filePath": "blog/koa-router-ajv-swaggergen.mdx",
        "toc": [
          {
            "value": "Quick start Example",
            "url": "#quick-start-example",
            "depth": 1
          },
          {
            "value": "Some more details",
            "url": "#some-more-details",
            "depth": 1
          },
          {
            "value": "Reusable schema",
            "url": "#reusable-schema",
            "depth": 1
          },
          {
            "value": "Validation",
            "url": "#validation",
            "depth": 1
          },
          {
            "value": "Integrating swagger viewer",
            "url": "#integrating-swagger-viewer",
            "depth": 1
          },
          {
            "value": "For developers of this library",
            "url": "#for-developers-of-this-library",
            "depth": 1
          },
          {
            "value": "Conclusion",
            "url": "#conclusion",
            "depth": 1
          }
        ],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "koa-router schema validation and swagger api doc generation",
          "datePublished": "2025-01-01T00:00:00.000Z",
          "dateModified": "2025-01-01T00:00:00.000Z",
          "description": "Just define json schema within a koa router, which will automatically create a documentation and input validation using the schema\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/koa-router-ajv-swaggergen"
        }
      },
      "documentHash": "1735776744539",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/myImx233.mdx": {
      "document": {
        "title": "Building a linux capable hardware at home",
        "date": "2017-10-09T00:00:00.000Z",
        "tags": [
          "SBC",
          "SingleBoardComputer",
          "iMX233"
        ],
        "summary": "Building hand solderable circuit board capable of linux with 64MB RAM\r",
        "body": {
          "raw": "\r\n# Let me see if I can build a linux Computer (It works now!)\r\n\r\nI am starting to build a single board computer with freescale microprocessor iMX233 128 LQFP and 64MB DDR2 SDRAM in 66TSOP. This single board computer will be bare bones with lots of GPIO exposed.\r\nThere is no special goal for this project. I am just curious to see if it works. In future I might add an LCD. The PCB is two layered only and can be manufactured cheap.\r\n\r\n## TODOs (done)\r\n* Increase pad lengths of LQFP footprint. (done. Hope to mitigate the soldermask between pads issue  |-0.06mm space-|-0.08mm web-|-0.06mm space->|  = 0.2mm) \r\n* Perhaps add a jumper on the 2.5v LineReg and separate out VDD_MEM to be able to test the 2.5v is not 0 due to loading. (skipped)\r\n* 88 USB_ID SSP1_DETECT ? Should I use this to CD of SD card connector or micro USB ID pin?  In my circuit it is pulled low via LED. Tux,calculator does the same too.\r\n* Add option to boot resistors LCD_RS and LCD_00..LCD_05 (done)\r\n* 14 LCD_RS ? High for register boot mode. Or low with 47k resistor for OTP boot mode. Olimex is confusing OTP is set MMBR and LCD_RS is high. (done)\r\n* Schottkey Diode D1 VDD4P2 direction. Its strange in ref diagram vs 5v wall. VDD4P2 -|>||- VDDBATT. (done Optional. Not populated in running board)\r\n* Series resistor 1E for preventing oscillations (done 3 series resistor added, usb, batt, 4p2)\r\n/in old circuit Test by removing Diode, and LED_RS to gnd via resistor.\r\n* RESET circuit? Make sure not to get into USB recovery mode. add zener 1.0v so that it never reached 3.3v or just remove reset circuit altogether.\r\n* Configure to get rid of batteries as per rev-c circuit. Add 1k resistors in DCDC_BATT and BATT and some caps to GND.\r\n* Need to convert the SD card connector to a cheaper version available on ebay or alibaba. (done part-ATTEND 112J-TDAR-R01)\r\nI got the files from https://forum.kicad.info/t/microsd-component-footprint-help/3095/5 and placed in parts/ folder. \r\nIt would be awesome if I can find some 3D model of it. If someone finds it please create an issue. (Yes found)\r\n* Make DDR RAM pin pads longer (new)\r\n* Make alternate USB plug preferably through hole or longer pads in micro USB. (new)\r\n* Make micro-SD pads larger and longer and add a few decoupling capacitors.(new)\r\n* Make more rooms for the inductor as most inductors are really big 8mm long plus place for hand soldering.(new)\r\n\r\n## TODOs (ignored)\r\n* POWER off circuit? \r\n* Is Micro SD pullups on all pins necessary? SSP1_DETECT used? (done added them in the bottom side. Data3/CS pulled low)\r\n* Added 120R between CLK nCLK.\r\n\r\n### Length Tuning\r\n* D0..D7 LDQS LDM - 39.7mm tuning (real 40.2mm)\r\n* CLK nCLK - real 32.2/32.6mm\r\n* D8..D15 UDQS UDM - 25.5mm tuning (real 26.0mm)\r\n* Address: 32.35mm ~ 25mm\r\n* CKE- 20.2mm\r\n* SD: 24.8mm tuning (real 25.3mm)\r\n\r\n## Installation steps\r\nCloning this repository should work.\r\nIt does use opendous\r\nconn_fci from https://github.com/cpavlina/kicad-pcblib.git, https://github.com/cpavlina/kicad-schlib.git\r\nCopy kicad-pcblib\\conn-fci.pretty to  KiCad\\share\\kicad\\modules\\conn-fci.pretty\r\nAdd kicad-schlib-master\\library\\conn-fci.lib  to SchematicEditor -> ComponentLibraries\r\nAdd opendous to component libraries too.\r\n\r\n## Drivers for this project.\r\n* Until recently I didn't know of a decent opensource software for PCB designing or circuit designing which can be used to design complicated circuits involving microprocessor.\r\nI recently discovered KiCAD which is opensource pcb designing software and people have done microprocessor design with it eg. OLinuXino. I am trying to learn PCB designing using KiCAD now.\r\n* Second driver was Clementine Core project which I saw in circuitmaker website. This schematic looked so simple and pcb was on 2 layer design, which changed my thought process altogether that linux running board designs may be something I can try.\r\n* Third driver was LibreCalc which almost proved that KiCAD can be used to design IMX233 based board. I hope to learn from their mistakes, but a newbee like me can uncover a whole lot of new mystries.\r\n\r\nSo I have put together a mashup of schematic design of IMX233 and 64MB RAM from freescale reference design and other sources. \r\n\r\n**Freescale microprocessor:**\r\n* MCIMX233CAG4C\r\n\r\n**DDR RAM - I think all these below RAM chips are compatible.**\r\n* AS4C32M16MD1-5TCN\r\n* HY5DU121622D(L)T(P)-J\r\n* MT46V32M16P-5B:J (This is the only one I can source, so I am using this)\r\n\r\nThis project is a work in progress and there is no gurantee that I will ever be able to complete it :).\r\n\r\nBut if you want to try building same stuff as I am building. Go ahead and fork it.\r\nDownload KiCad. I am using nightly version of it, because it does not require you to export the netlist and import it again in pcb editor. Make the workflow really easy.\r\nI can see one bug in KiCAD, which is after modifying the footprint by adding a step file. It looses the saved settings. \r\n\r\nOnce you have installed KiCAD, open **MyIMX233.pro** file. \r\n\r\n[MyIMX233.sch](MyIMX233.sch) - Schematic file.\r\n\r\n[MyIMX233.kicad_pcb](MyIMX233.kicad_pcb) - PCB\r\n\r\n[ReferenceSch](ReferenceSch) - contains reference materials. I uploaded all of them for providing content incase someone wants to understand the design.\r\n\r\n\r\n## Progress: \r\n\r\n### Oct 8 It worked! You can start building one today for yourself :)\r\nFew soldering quirks are there. USB pads are quite small to solder. Also pad to hold USB in place is also very small and bad for soldering. Even the SD card pads are also small for soldering. These were new footprints so in next version I will make longer pads for these. RAM pads can be made slightly longer for reliable soldering. \r\nSoldered board and powered up without SD card. Some error were coming 0x80207002. Boot loader looking for I2C and it is not initialized. Turned out to be soldering of one pin was not proper for LQFP128. Fixed this pin issue then SD card missing related errors were coming. Added SD card with bogus data 0x8020A007 - ERROR_DDI_SD_CONFIG_BLOCK_NOT_FOUND. Added SD card formatted properly but still 0x8020A007. Little bit further digging showed that SD card MBR boot is not enabled by default. We need to burn an OPT bit HW_OCOTP_ROM0::SD_MBR_BOOT to enable booting from SD card. This process is irreversible. Default boot mode is BCB. I read up again librecalc's failure blog.  It gave two perl programs to burn the SD card with u-boot in BCB mode. The 2nd perl program didn't run as it assumed smaller SD cards only. I edited the perl program to make it find proper boot signatures. Now we can see something HTLC in UART console.\r\nThat's too less info to debug further. At this point I posted in freescale community. https://community.nxp.com/message/949934. I decided to blow the MBR OTP flag using BitBurner. Then added MBR based uSD card and same u-boot. Now again it shows HTLC. Good news is that MBR booting works. But it fails very soon. Need bootlets which gives more detailed log instead of u-boot. Turned out voltages are fluctuating all 3v3, 4v2, 1v8, 1v. They were fluctuating in a cycle. I burned official Olinuxino image in SD card. That seems to have bootlets so it gave more info. After right after memory `FRAC 0x92926192` it reboots. I heated up all the pins of DDR and iMX233 with soldering iron. It goes 1 more line ahead in log `init_ddr_mt46v32m16_133Mhz` and sometimes `power 0x00820710`. I added a big capacitor in place of battery which goes the log to further and says uSD card general error ending with r14\\<0\\>HTLLLL... I tried adding a few caps on 3v3. But nothing helped. Then I tried the other jumper of battery mode. Then it started loading kernel. \r\n![Bootup logs](readmeimages/bootlog.png)\r\n![Final Board](readmeimages/working_proto.jpg)\r\n\r\n### Aug 2017\r\nStarted modifying the schematic to make battery and USB wall power optional using jumpers. Also realized boot selection can be done using resistors. Sent for fabrication of PCB to pcbpower.\r\n\r\n### July 2017 end first soldered board\r\nGood news is most of the components fitted. Also I got some confidence about my KiCAD skills.\r\nSome shortcomings were observed, like the pads for soldering were two short for the fine pitched LQFP128 0.4mm pitch and solder mask dams were not created between pads which made it incredibly hard to solder. I will have to customize the LQFP128 footprint to make it suitable for hand soldering. Some 0402 caps were placed very close, I realized the courtyard verification of components is not turned on by default. I had limited success like UART was working USB was working, BitBurner was working and showing all the OPT(One Time Programmable) bits. Some gibberish was coming on UART console. I used solder paste for soldering, so I thought some shorting might be happening. Then I tried to do reflow soldering to make the solder joints liquify once and then quickly cool it using a frying pan. It actually fried my board! I also mistakenly soldered uSD card with power on! Carelessness!\r\n![First Proto Soldered](readmeimages/first_proto.jpg)\r\n\r\n* I also ordered components. I didn't realize this would be a pain. element14 is not that accessible for an individual. I ordered mostly from Shelfkey and some from KitsNSpares. I am still tensed if footprints I chose will match the actual components. Second I am very much tensed about soldering 0402 components.\r\n* Final version of PCB sent for fab in pcbpower. \r\n![Sent to fab](plot_pcb/MyIMX233_1.0-gerber.png)\r\n\r\n* Added few options to use DCDC. I was not comfortable of grounding DCDC_BATT and BATT pins, so I added a few jumpers. Also added provisions to add battery. \r\n\r\n* Learnt basic Freecad to build the Step files of DDR SDRAM 66TSOP. Here is the project I created - [MT46V32M16P-5B-Freecad-Step](https://github.com/samarjit/MT46V32M16P-5B-Freecad-Step).\r\n\r\n* Initial version. DDR RAM child 3D missing and SD card's 3D missing.\r\n![Initial plot](plot_pcb/MyIMX233_0.1-3D.png)\r\n\r\n* Learnt Length Matching in Kicad. \r\n\r\n* Figured out placement of components. I am going with Clementine Core's placement which seems very good. \r\n![Initial plot](plot_pcb/MyIMX233_0.0-wolength.png)\r\n\r\n\r\n\r\n",
          "code": "var Component=(()=>{var p=Object.create;var a=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var g=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,f=Object.prototype.hasOwnProperty;var w=(n,i)=>()=>(i||n((i={exports:{}}).exports,i),i.exports),b=(n,i)=>{for(var o in i)a(n,o,{get:i[o],enumerable:!0})},l=(n,i,o,t)=>{if(i&&typeof i==\"object\"||typeof i==\"function\")for(let r of g(i))!f.call(n,r)&&r!==o&&a(n,r,{get:()=>i[r],enumerable:!(t=m(i,r))||t.enumerable});return n};var D=(n,i,o)=>(o=n!=null?p(u(n)):{},l(i||!n||!n.__esModule?a(o,\"default\",{value:n,enumerable:!0}):o,n)),v=n=>l(a({},\"__esModule\",{value:!0}),n);var s=w((k,d)=>{d.exports=_jsx_runtime});var y={};b(y,{default:()=>h,frontmatter:()=>I});var e=D(s()),I={title:\"Building a linux capable hardware at home\",date:\"2017-10-09\",tags:[\"SBC\",\"SingleBoardComputer\",\"iMX233\"],summary:\"Building hand solderable circuit board capable of linux with 64MB RAM\"};function c(n){let i={a:\"a\",code:\"code\",h1:\"h1\",h2:\"h2\",h3:\"h3\",img:\"img\",li:\"li\",p:\"p\",path:\"path\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...n.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(i.h1,{className:\"content-header\",id:\"let-me-see-if-i-can-build-a-linux-computer-it-works-now\",children:[(0,e.jsx)(i.a,{href:\"#let-me-see-if-i-can-build-a-linux-computer-it-works-now\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Let me see if I can build a linux Computer (It works now!)\"]}),(0,e.jsx)(i.p,{children:\"I am starting to build a single board computer with freescale microprocessor iMX233 128 LQFP and 64MB DDR2 SDRAM in 66TSOP. This single board computer will be bare bones with lots of GPIO exposed. There is no special goal for this project. I am just curious to see if it works. In future I might add an LCD. The PCB is two layered only and can be manufactured cheap.\"}),(0,e.jsxs)(i.h2,{className:\"content-header\",id:\"todos-done\",children:[(0,e.jsx)(i.a,{href:\"#todos-done\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"TODOs (done)\"]}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"Increase pad lengths of LQFP footprint. (done. Hope to mitigate the soldermask between pads issue |-0.06mm space-|-0.08mm web-|-0.06mm space->| = 0.2mm)\"}),(0,e.jsx)(i.li,{children:\"Perhaps add a jumper on the 2.5v LineReg and separate out VDD_MEM to be able to test the 2.5v is not 0 due to loading. (skipped)\"}),(0,e.jsx)(i.li,{children:\"88 USB_ID SSP1_DETECT ? Should I use this to CD of SD card connector or micro USB ID pin? In my circuit it is pulled low via LED. Tux,calculator does the same too.\"}),(0,e.jsx)(i.li,{children:\"Add option to boot resistors LCD_RS and LCD_00..LCD_05 (done)\"}),(0,e.jsx)(i.li,{children:\"14 LCD_RS ? High for register boot mode. Or low with 47k resistor for OTP boot mode. Olimex is confusing OTP is set MMBR and LCD_RS is high. (done)\"}),(0,e.jsx)(i.li,{children:\"Schottkey Diode D1 VDD4P2 direction. Its strange in ref diagram vs 5v wall. VDD4P2 -|>||- VDDBATT. (done Optional. Not populated in running board)\"}),(0,e.jsx)(i.li,{children:\"Series resistor 1E for preventing oscillations (done 3 series resistor added, usb, batt, 4p2) /in old circuit Test by removing Diode, and LED_RS to gnd via resistor.\"}),(0,e.jsx)(i.li,{children:\"RESET circuit? Make sure not to get into USB recovery mode. add zener 1.0v so that it never reached 3.3v or just remove reset circuit altogether.\"}),(0,e.jsx)(i.li,{children:\"Configure to get rid of batteries as per rev-c circuit. Add 1k resistors in DCDC_BATT and BATT and some caps to GND.\"}),(0,e.jsxs)(i.li,{children:[\"Need to convert the SD card connector to a cheaper version available on ebay or alibaba. (done part-ATTEND 112J-TDAR-R01) I got the files from \",(0,e.jsx)(i.a,{href:\"https://forum.kicad.info/t/microsd-component-footprint-help/3095/5\",children:\"https://forum.kicad.info/t/microsd-component-footprint-help/3095/5\"}),\" and placed in parts/ folder. It would be awesome if I can find some 3D model of it. If someone finds it please create an issue. (Yes found)\"]}),(0,e.jsx)(i.li,{children:\"Make DDR RAM pin pads longer (new)\"}),(0,e.jsx)(i.li,{children:\"Make alternate USB plug preferably through hole or longer pads in micro USB. (new)\"}),(0,e.jsx)(i.li,{children:\"Make micro-SD pads larger and longer and add a few decoupling capacitors.(new)\"}),(0,e.jsx)(i.li,{children:\"Make more rooms for the inductor as most inductors are really big 8mm long plus place for hand soldering.(new)\"})]}),(0,e.jsxs)(i.h2,{className:\"content-header\",id:\"todos-ignored\",children:[(0,e.jsx)(i.a,{href:\"#todos-ignored\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"TODOs (ignored)\"]}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"POWER off circuit?\"}),(0,e.jsx)(i.li,{children:\"Is Micro SD pullups on all pins necessary? SSP1_DETECT used? (done added them in the bottom side. Data3/CS pulled low)\"}),(0,e.jsx)(i.li,{children:\"Added 120R between CLK nCLK.\"})]}),(0,e.jsxs)(i.h3,{className:\"content-header\",id:\"length-tuning\",children:[(0,e.jsx)(i.a,{href:\"#length-tuning\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Length Tuning\"]}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"D0..D7 LDQS LDM - 39.7mm tuning (real 40.2mm)\"}),(0,e.jsx)(i.li,{children:\"CLK nCLK - real 32.2/32.6mm\"}),(0,e.jsx)(i.li,{children:\"D8..D15 UDQS UDM - 25.5mm tuning (real 26.0mm)\"}),(0,e.jsx)(i.li,{children:\"Address: 32.35mm ~ 25mm\"}),(0,e.jsx)(i.li,{children:\"CKE- 20.2mm\"}),(0,e.jsx)(i.li,{children:\"SD: 24.8mm tuning (real 25.3mm)\"})]}),(0,e.jsxs)(i.h2,{className:\"content-header\",id:\"installation-steps\",children:[(0,e.jsx)(i.a,{href:\"#installation-steps\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Installation steps\"]}),(0,e.jsxs)(i.p,{children:[\"Cloning this repository should work. It does use opendous conn_fci from \",(0,e.jsx)(i.a,{href:\"https://github.com/cpavlina/kicad-pcblib.git\",children:\"https://github.com/cpavlina/kicad-pcblib.git\"}),\", \",(0,e.jsx)(i.a,{href:\"https://github.com/cpavlina/kicad-schlib.git\",children:\"https://github.com/cpavlina/kicad-schlib.git\"}),\" Copy kicad-pcblib\\\\conn-fci.pretty to KiCad\\\\share\\\\kicad\\\\modules\\\\conn-fci.pretty Add kicad-schlib-master\\\\library\\\\conn-fci.lib to SchematicEditor -> ComponentLibraries Add opendous to component libraries too.\"]}),(0,e.jsxs)(i.h2,{className:\"content-header\",id:\"drivers-for-this-project\",children:[(0,e.jsx)(i.a,{href:\"#drivers-for-this-project\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Drivers for this project.\"]}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"Until recently I didn't know of a decent opensource software for PCB designing or circuit designing which can be used to design complicated circuits involving microprocessor. I recently discovered KiCAD which is opensource pcb designing software and people have done microprocessor design with it eg. OLinuXino. I am trying to learn PCB designing using KiCAD now.\"}),(0,e.jsx)(i.li,{children:\"Second driver was Clementine Core project which I saw in circuitmaker website. This schematic looked so simple and pcb was on 2 layer design, which changed my thought process altogether that linux running board designs may be something I can try.\"}),(0,e.jsx)(i.li,{children:\"Third driver was LibreCalc which almost proved that KiCAD can be used to design IMX233 based board. I hope to learn from their mistakes, but a newbee like me can uncover a whole lot of new mystries.\"})]}),(0,e.jsx)(i.p,{children:\"So I have put together a mashup of schematic design of IMX233 and 64MB RAM from freescale reference design and other sources.\"}),(0,e.jsx)(i.p,{children:(0,e.jsx)(i.strong,{children:\"Freescale microprocessor:\"})}),(0,e.jsx)(i.ul,{children:(0,e.jsx)(i.li,{children:\"MCIMX233CAG4C\"})}),(0,e.jsx)(i.p,{children:(0,e.jsx)(i.strong,{children:\"DDR RAM - I think all these below RAM chips are compatible.\"})}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:\"AS4C32M16MD1-5TCN\"}),(0,e.jsx)(i.li,{children:\"HY5DU121622D(L)T(P)-J\"}),(0,e.jsx)(i.li,{children:\"MT46V32M16P-5B:J (This is the only one I can source, so I am using this)\"})]}),(0,e.jsx)(i.p,{children:\"This project is a work in progress and there is no gurantee that I will ever be able to complete it :).\"}),(0,e.jsx)(i.p,{children:\"But if you want to try building same stuff as I am building. Go ahead and fork it. Download KiCad. I am using nightly version of it, because it does not require you to export the netlist and import it again in pcb editor. Make the workflow really easy. I can see one bug in KiCAD, which is after modifying the footprint by adding a step file. It looses the saved settings.\"}),(0,e.jsxs)(i.p,{children:[\"Once you have installed KiCAD, open \",(0,e.jsx)(i.strong,{children:\"MyIMX233.pro\"}),\" file.\"]}),(0,e.jsxs)(i.p,{children:[(0,e.jsx)(i.a,{href:\"MyIMX233.sch\",children:\"MyIMX233.sch\"}),\" - Schematic file.\"]}),(0,e.jsxs)(i.p,{children:[(0,e.jsx)(i.a,{href:\"MyIMX233.kicad_pcb\",children:\"MyIMX233.kicad_pcb\"}),\" - PCB\"]}),(0,e.jsxs)(i.p,{children:[(0,e.jsx)(i.a,{href:\"ReferenceSch\",children:\"ReferenceSch\"}),\" - contains reference materials. I uploaded all of them for providing content incase someone wants to understand the design.\"]}),(0,e.jsxs)(i.h2,{className:\"content-header\",id:\"progress\",children:[(0,e.jsx)(i.a,{href:\"#progress\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Progress:\"]}),(0,e.jsxs)(i.h3,{className:\"content-header\",id:\"oct-8-it-worked-you-can-start-building-one-today-for-yourself-\",children:[(0,e.jsx)(i.a,{href:\"#oct-8-it-worked-you-can-start-building-one-today-for-yourself-\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Oct 8 It worked! You can start building one today for yourself :)\"]}),(0,e.jsxs)(i.p,{children:[\"Few soldering quirks are there. USB pads are quite small to solder. Also pad to hold USB in place is also very small and bad for soldering. Even the SD card pads are also small for soldering. These were new footprints so in next version I will make longer pads for these. RAM pads can be made slightly longer for reliable soldering. Soldered board and powered up without SD card. Some error were coming 0x80207002. Boot loader looking for I2C and it is not initialized. Turned out to be soldering of one pin was not proper for LQFP128. Fixed this pin issue then SD card missing related errors were coming. Added SD card with bogus data 0x8020A007 - ERROR_DDI_SD_CONFIG_BLOCK_NOT_FOUND. Added SD card formatted properly but still 0x8020A007. Little bit further digging showed that SD card MBR boot is not enabled by default. We need to burn an OPT bit HW_OCOTP_ROM0::SD_MBR_BOOT to enable booting from SD card. This process is irreversible. Default boot mode is BCB. I read up again librecalc's failure blog. It gave two perl programs to burn the SD card with u-boot in BCB mode. The 2nd perl program didn't run as it assumed smaller SD cards only. I edited the perl program to make it find proper boot signatures. Now we can see something HTLC in UART console. That's too less info to debug further. At this point I posted in freescale community. \",(0,e.jsx)(i.a,{href:\"https://community.nxp.com/message/949934\",children:\"https://community.nxp.com/message/949934\"}),\". I decided to blow the MBR OTP flag using BitBurner. Then added MBR based uSD card and same u-boot. Now again it shows HTLC. Good news is that MBR booting works. But it fails very soon. Need bootlets which gives more detailed log instead of u-boot. Turned out voltages are fluctuating all 3v3, 4v2, 1v8, 1v. They were fluctuating in a cycle. I burned official Olinuxino image in SD card. That seems to have bootlets so it gave more info. After right after memory \",(0,e.jsx)(i.code,{children:\"FRAC 0x92926192\"}),\" it reboots. I heated up all the pins of DDR and iMX233 with soldering iron. It goes 1 more line ahead in log \",(0,e.jsx)(i.code,{children:\"init_ddr_mt46v32m16_133Mhz\"}),\" and sometimes \",(0,e.jsx)(i.code,{children:\"power 0x00820710\"}),\". I added a big capacitor in place of battery which goes the log to further and says uSD card general error ending with r14<0>HTLLLL... I tried adding a few caps on 3v3. But nothing helped. Then I tried the other jumper of battery mode. Then it started loading kernel. \",(0,e.jsx)(i.img,{alt:\"Bootup logs\",src:\"readmeimages/bootlog.png\"}),\" \",(0,e.jsx)(i.img,{alt:\"Final Board\",src:\"readmeimages/working_proto.jpg\"})]}),(0,e.jsxs)(i.h3,{className:\"content-header\",id:\"aug-2017\",children:[(0,e.jsx)(i.a,{href:\"#aug-2017\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Aug 2017\"]}),(0,e.jsx)(i.p,{children:\"Started modifying the schematic to make battery and USB wall power optional using jumpers. Also realized boot selection can be done using resistors. Sent for fabrication of PCB to pcbpower.\"}),(0,e.jsxs)(i.h3,{className:\"content-header\",id:\"july-2017-end-first-soldered-board\",children:[(0,e.jsx)(i.a,{href:\"#july-2017-end-first-soldered-board\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(i.span,{className:\"content-header-link\",children:(0,e.jsxs)(i.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(i.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(i.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"July 2017 end first soldered board\"]}),(0,e.jsxs)(i.p,{children:[\"Good news is most of the components fitted. Also I got some confidence about my KiCAD skills. Some shortcomings were observed, like the pads for soldering were two short for the fine pitched LQFP128 0.4mm pitch and solder mask dams were not created between pads which made it incredibly hard to solder. I will have to customize the LQFP128 footprint to make it suitable for hand soldering. Some 0402 caps were placed very close, I realized the courtyard verification of components is not turned on by default. I had limited success like UART was working USB was working, BitBurner was working and showing all the OPT(One Time Programmable) bits. Some gibberish was coming on UART console. I used solder paste for soldering, so I thought some shorting might be happening. Then I tried to do reflow soldering to make the solder joints liquify once and then quickly cool it using a frying pan. It actually fried my board! I also mistakenly soldered uSD card with power on! Carelessness! \",(0,e.jsx)(i.img,{alt:\"First Proto Soldered\",src:\"readmeimages/first_proto.jpg\"})]}),(0,e.jsxs)(i.ul,{children:[(0,e.jsx)(i.li,{children:(0,e.jsx)(i.p,{children:\"I also ordered components. I didn't realize this would be a pain. element14 is not that accessible for an individual. I ordered mostly from Shelfkey and some from KitsNSpares. I am still tensed if footprints I chose will match the actual components. Second I am very much tensed about soldering 0402 components.\"})}),(0,e.jsx)(i.li,{children:(0,e.jsxs)(i.p,{children:[\"Final version of PCB sent for fab in pcbpower. \",(0,e.jsx)(i.img,{alt:\"Sent to fab\",src:\"plot_pcb/MyIMX233_1.0-gerber.png\"})]})}),(0,e.jsx)(i.li,{children:(0,e.jsx)(i.p,{children:\"Added few options to use DCDC. I was not comfortable of grounding DCDC_BATT and BATT pins, so I added a few jumpers. Also added provisions to add battery.\"})}),(0,e.jsx)(i.li,{children:(0,e.jsxs)(i.p,{children:[\"Learnt basic Freecad to build the Step files of DDR SDRAM 66TSOP. Here is the project I created - \",(0,e.jsx)(i.a,{href:\"https://github.com/samarjit/MT46V32M16P-5B-Freecad-Step\",children:\"MT46V32M16P-5B-Freecad-Step\"}),\".\"]})}),(0,e.jsx)(i.li,{children:(0,e.jsxs)(i.p,{children:[\"Initial version. DDR RAM child 3D missing and SD card's 3D missing. \",(0,e.jsx)(i.img,{alt:\"Initial plot\",src:\"plot_pcb/MyIMX233_0.1-3D.png\"})]})}),(0,e.jsx)(i.li,{children:(0,e.jsx)(i.p,{children:\"Learnt Length Matching in Kicad.\"})}),(0,e.jsx)(i.li,{children:(0,e.jsxs)(i.p,{children:[\"Figured out placement of components. I am going with Clementine Core's placement which seems very good. \",(0,e.jsx)(i.img,{alt:\"Initial plot\",src:\"plot_pcb/MyIMX233_0.0-wolength.png\"})]})})]})]})}function h(n={}){let{wrapper:i}=n.components||{};return i?(0,e.jsx)(i,{...n,children:(0,e.jsx)(c,{...n})}):c(n)}return v(y);})();\n;return Component;"
        },
        "_id": "blog/myImx233.mdx",
        "_raw": {
          "sourceFilePath": "blog/myImx233.mdx",
          "sourceFileName": "myImx233.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/myImx233"
        },
        "type": "Blog",
        "readingTime": {
          "text": "9 min read",
          "minutes": 8.215,
          "time": 492900,
          "words": 1643
        },
        "slug": "myImx233",
        "path": "blog/myImx233",
        "filePath": "blog/myImx233.mdx",
        "toc": [
          {
            "value": "Let me see if I can build a linux Computer (It works now!)",
            "url": "#let-me-see-if-i-can-build-a-linux-computer-it-works-now",
            "depth": 1
          },
          {
            "value": "TODOs (done)",
            "url": "#todos-done",
            "depth": 2
          },
          {
            "value": "TODOs (ignored)",
            "url": "#todos-ignored",
            "depth": 2
          },
          {
            "value": "Length Tuning",
            "url": "#length-tuning",
            "depth": 3
          },
          {
            "value": "Installation steps",
            "url": "#installation-steps",
            "depth": 2
          },
          {
            "value": "Drivers for this project.",
            "url": "#drivers-for-this-project",
            "depth": 2
          },
          {
            "value": "Progress:",
            "url": "#progress",
            "depth": 2
          },
          {
            "value": "Oct 8 It worked! You can start building one today for yourself :)",
            "url": "#oct-8-it-worked-you-can-start-building-one-today-for-yourself-",
            "depth": 3
          },
          {
            "value": "Aug 2017",
            "url": "#aug-2017",
            "depth": 3
          },
          {
            "value": "July 2017 end first soldered board",
            "url": "#july-2017-end-first-soldered-board",
            "depth": 3
          }
        ],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Building a linux capable hardware at home",
          "datePublished": "2017-10-09T00:00:00.000Z",
          "dateModified": "2017-10-09T00:00:00.000Z",
          "description": "Building hand solderable circuit board capable of linux with 64MB RAM\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/myImx233"
        }
      },
      "documentHash": "1735615892528",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/naive-react.mdx": {
      "document": {
        "title": "Naive react",
        "date": "2019-03-17T00:00:00.000Z",
        "tags": [
          "react",
          "javacript",
          "Simple React",
          "jsx",
          "typescript"
        ],
        "summary": "With just 98 lines of code we can achieve a jsx rendering + events + render subtrees without any external dependencies.\r",
        "body": {
          "raw": "> Update: From React 17+ JSX transformation will no longer create React.createElement() instead it will be _jsx()!\r\n\r\nIf JSX becomes a standard of EcmaScript ES-XXXX, we will have an amazing tool at our disposal. Even if we do not want full blown react in our application, lets see how far we can go about using its render functions.\r\n\r\nGood news is TypeScript natively supports jsx now. It is also possible to compile jsx with babel without React js. The output javascript contains  `React.createElement()`. In this project, I am trying to implement this createElement() to render dom tree. Initial render is quite simple. But it getscomplicated to handle rerender where children nodes need to be tracked and replaced. This was achieved in stage 2.\r\n\r\nTo run the project.\r\n\r\n1.  `npm install`\r\n2.  `npm run build`  -- This will compile all jsx and concatenate using browserify in the dist folder.\r\n3.  Open the index.html from dist folder in a browser. Alternatively run  `http-server`  to serve static files from dist directory\r\n\r\n-   Note: This is a work in progress\r\n\r\n# Stage 1\r\n\r\nWe have a simple render logic that traverses the nodes through render functions and generates dom. It is simple template rendering.\r\n\r\n## There is no way to rerender onlysubtrees.\r\n\r\nIf I go with virtual dom path there is no need to rerender subtrees as it will be always full render and virtual dom diff will take care. And then dom patch will be done as in traditional react.\r\n\r\n## There is no way to know which subtree needs to be rerendered.\r\n\r\nOne way is to make the state,props as observables and we can figure out if it requires rerender. Probably this is how angular1 was built. The rerender also cannot patch the dom since there is no marker to tell which node is being referred by the current component, so that the subtree can be replaced. Also I am starting to ponder what happens if the child subtree contains a form, all user’s selection will be lost. So singleton will be required, but singleton instance must be created per unique node. Once created those instances are created, those needs to be reused otherwise state data will be lost.\r\n\r\nWe may have to go with synthetic events for 2 reasons.\r\n\r\n1.  To be able to cleanup without memory leaking.\r\n2.  To know if rerender is required if there is an event.\r\n\r\n# Some stage1 code\r\n\r\nI defined a button component, and a bootstrapping class App.tsx. Both are pretty much similar to what you would do in actual reactjs application. I will explain about the import statement in a minute. But rest of the code is exactly like plain reactjs.\r\n\r\n```\r\nimport React from './DummyReact';export default class MyButton {  \r\n  state: any;  \r\n  constructor() {  \r\n    this.state = {count: 0};  \r\n    this.clickHandler = this.clickHandler.bind(this);  \r\n  }  \r\n  clickHandler() {  \r\n    console.log('Button clicked');  \r\n    this.state.count += 1;   \r\n  };  \r\n  render() {  \r\n    return (<div>  \r\n        {this.state.count}  \r\n        <button onClick={this.clickHandler}>button text</button>  \r\n    </div>);  \r\n  }  \r\n}\r\n```\r\n\r\nAnd the bootstrapping part goes like this. This is also plain reactjs.\r\n\r\n```\r\nimport React from './DummyReact';  \r\nimport MyButton from './MyButton';class App {  \r\n  render(): any {  \r\n    return (<div>Hello <MyButton/></div>);  \r\n  }  \r\n}React.renderRoot(<App/>, document.getElementById('root'));\r\n```\r\n\r\nNow what does it take to render these above snippets. We know that jsx gets compiled into plain javascript. Lets look at what it gets compiled into.\r\n\r\nMyButton.tsx get compiled into below snippet.\r\n\r\n```\r\nObject.defineProperty(exports, \"__esModule\", { value: true });  \r\nvar NaiveReact_1 = require(\"./DummyReact\");  \r\nvar MyButton = /** [@class](http://twitter.com/class) */ (function () {  \r\n  function MyButton() {  \r\n    this.state = { count: 0 };  \r\n    this.clickHandler = this.clickHandler.bind(this);  \r\n  }  \r\n  MyButton.prototype.clickHandler = function () {  \r\n    console.log('Button clicked!');  \r\n    this.state.count += 1;  \r\n    NaiveReact_1.default.forceRender(this);  \r\n  };  \r\n  ;  \r\n  MyButton.prototype.render = function () {  \r\n    return (NaiveReact_1.default.createElement(\"div\", null,  \r\n    this.state.count,  \r\n    NaiveReact_1.default.createElement(\"button\", { onClick: this.clickHandler }, \"button text\")));  \r\n  };  \r\n  return MyButton;  \r\n}());  \r\nexports.default = MyButton;\r\n```\r\n\r\nThe app.tsx looks like this below snippet.\r\n\r\n```\r\nObject.defineProperty(exports, \"__esModule\", { value: true });  \r\nvar NaiveReact_1 = require(\"./DummyReact\");  \r\nvar MyButton_1 = require(\"./MyButton\");  \r\nvar App = /** [@class](http://twitter.com/class) */ (function () {  \r\n  function App() {  \r\n  }  \r\n  App.prototype.render = function () {  \r\n    return (NaiveReact_1.default.createElement(\"div\", null,  \r\n    \"Hello \",  \r\n    NaiveReact_1.default.createElement(MyButton_1.default, null),  \r\n    NaiveReact_1.default.createElement(MyButton_1.default, null)));  \r\n  };  \r\n  return App;  \r\n}());  \r\nNaiveReact_1.default.renderRoot(NaiveReact_1.default.createElement(App, null), document.getElementById('root'));\r\n```\r\nBy seeing the above compiled code, you will notice that JSX automatically assumes that it has to convert those tags into  `React.createElement()`  static functions. For this reason we have to stick with this  `React`  keyword. But we will provide our own implementation that will traverse this render functions tree calling each other until the dom is rendered. That is exactly what is done in this below 46 lines code on DummyReact.ts.\r\n\r\nDummyReact.ts\r\n\r\n```\r\nexport default class DummyReact{static singletonRegistry = {};  \r\n  static getInstance(tagName: any) {   \r\n      return new tagName();  \r\n  }  \r\n  static createElement(tagName: any, attrs:{[x: string]: any}, ...children) {  \r\n    let elm;  \r\n    if(typeof(tagName) === 'function'){  \r\n      elm = DummyReact.getInstance(tagName).render();  \r\n    } else {  \r\n      elm = document.createElement(tagName);  \r\n    }  \r\n    if(attrs) {  \r\n     for( var attr in attrs) {  \r\n          \r\n      if(/on\\w+/.test(attr)) {  \r\n        let eventName = attr.replace(/^on/,'');  \r\n        eventName = eventName.charAt(0).toLocaleLowerCase() + eventName.substr(1);  \r\n        elm.addEventListener(eventName, attrs[attr]);  \r\n      } else {  \r\n        elm.setAttribute(attr, attrs[attr]);  \r\n      }  \r\n     };  \r\n    } if(children) {  \r\n      children.forEach((child) => {  \r\n        if(typeof child === 'string' || typeof child === 'number') {  \r\n          elm.innerHTML = elm.innerHTML + child;  \r\n        } else {  \r\n          // assume it is a function; perhaps a function createElement(..)  \r\n          elm.appendChild(child);  \r\n        }  \r\n      });  \r\n    }  \r\n    return elm;  \r\n  } static renderRoot(obj, rootElement) {  \r\n    for(var element of rootElement.children) {  \r\n      rootElement.removeChild(element);  \r\n    };  \r\n    rootElement.appendChild( obj );  \r\n  }  \r\n};\r\n```\r\n\r\nYou can see a working version right here.\r\n\r\n# Stage 2\r\n\r\nI am focusing on two things for now.\r\n\r\n1.  I want to achieve without virtual-dom\r\n2.  Partial re-render of subtree. This will become our force render.\r\n3.  Be able to have Multiple instance of the same Component (Ex. MyButton being shown twice with two different counter values. Where counts are being stored within the Component)\r\n4.  Handle events from correct instance if multiple instances of a Custom Element is present. (Ex. Clicking MyButton in our case with trigger event of its correct instance)\r\n\r\nThe solution was to have marker reference to each component instance in html node. This concept is similar to isolated scope in angularjs. Whenever any event is triggered the correct instance of the function gets called. We are having dom events listeners. Currently there is no synthetic event concept in our implementation. Also there is no global listening to events to autorender. So an explicit forceRender() is required to be called. From the instance which is called forceRender() the correct instance is identified and the relevant dom node is identified. Then the subtree is re-rendered.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:700/1*2CK3UoTsC7LfvgNTIFq5_Q.png)\r\n\r\nOverall the implementation of Naive-React has only 3 important function.\r\n\r\n```\r\nexport default class NaiveReact{ static appendRef(inst, elm, instNumber) {...} static createElement(tagName: any, attrs:{[x: string]: any}, ...children) { ... } static forceRender(comp) { ... }}\r\n```\r\n\r\nThe entire implementation is less than 98 lines of code.\r\n\r\n[https://stackblitz.com/edit/naive-react?file=NaiveReact.ts](https://stackblitz.com/edit/naive-react?file=NaiveReact.ts)  \r\n[https://github.com/samarjit/naive-react/blob/master/src/NaiveReact.ts](https://github.com/samarjit/naive-react/blob/master/src/NaiveReact.ts).\r\n\r\nLive working implementation is shown below:\r\n\r\n# Conclusion\r\n\r\nWith just 98 lines of code we can achieve a jsx rendering + events + render subtrees without any external dependencies. JSX is supported out of box in TypeScript which opens up this opportunities. I hope JSX is supported in EcmaScript in future. Today you can do so using babel. For a simple application where react will be overkill this is a viable template implementation.\r\n\r\nFuture improvements can be done to implement synthetic events and which will pave the path for implementing auto-render. Feel free to fork and have fun!\r\n\r\nLinks — What’s next lets build redux too —  [https://samarjit-samanta.medium.com/lets-build-naive-redux-159e3caa856b](https://samarjit-samanta.medium.com/lets-build-naive-redux-159e3caa856b)\r\n\r\nNext — probably I will build a router\r\n\r\n**Food for throught** — React keeps a virtual dom tree, and runs all components to create another dom tree, then find the diff, which results in a patch. Then apply this to browser. Now imagine if browser makers had to optimize. Start with HTML-A you make very slight modification to that html which creates HTML-B, and then apply the complete HTML-B to browser. Browsers then have to find the diff, create a patch and apply patch all written in highly optimized C/C++ code. I believe this business of diffing and patching should be left to browsers instead of using user-land virtual-dom js code to mess around! Let me know what you feel about it in comments.",
          "code": "var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var y=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),w=(a,e)=>{for(var s in e)t(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of u(e))!k.call(a,c)&&c!==s&&t(a,c,{get:()=>e[c],enumerable:!(l=m(e,c))||l.enumerable});return a};var f=(a,e,s)=>(s=a!=null?h(N(a)):{},o(e||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>o(t({},\"__esModule\",{value:!0}),a);var r=y((j,i)=>{i.exports=_jsx_runtime});var v={};w(v,{default:()=>d,frontmatter:()=>b});var n=f(r()),b={title:\"Naive react\",date:\"2019-03-17\",tags:[\"react\",\"javacript\",\"Simple React\",\"jsx\",\"typescript\"],summary:\"With just 98 lines of code we can achieve a jsx rendering + events + render subtrees without any external dependencies.\"};function p(a){let e={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",h1:\"h1\",h2:\"h2\",img:\"img\",li:\"li\",ol:\"ol\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",strong:\"strong\",svg:\"svg\",ul:\"ul\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.blockquote,{children:(0,n.jsx)(e.p,{children:\"Update: From React 17+ JSX transformation will no longer create React.createElement() instead it will be _jsx()!\"})}),(0,n.jsx)(e.p,{children:\"If JSX becomes a standard of EcmaScript ES-XXXX, we will have an amazing tool at our disposal. Even if we do not want full blown react in our application, lets see how far we can go about using its render functions.\"}),(0,n.jsxs)(e.p,{children:[\"Good news is TypeScript natively supports jsx now. It is also possible to compile jsx with babel without React js. The output javascript contains \",(0,n.jsx)(e.code,{children:\"React.createElement()\"}),\". In this project, I am trying to implement this createElement() to render dom tree. Initial render is quite simple. But it getscomplicated to handle rerender where children nodes need to be tracked and replaced. This was achieved in stage 2.\"]}),(0,n.jsx)(e.p,{children:\"To run the project.\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:(0,n.jsx)(e.code,{children:\"npm install\"})}),(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.code,{children:\"npm run build\"}),\" -- This will compile all jsx and concatenate using browserify in the dist folder.\"]}),(0,n.jsxs)(e.li,{children:[\"Open the index.html from dist folder in a browser. Alternatively run \",(0,n.jsx)(e.code,{children:\"http-server\"}),\" to serve static files from dist directory\"]})]}),(0,n.jsx)(e.ul,{children:(0,n.jsx)(e.li,{children:\"Note: This is a work in progress\"})}),(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"stage-1\",children:[(0,n.jsx)(e.a,{href:\"#stage-1\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Stage 1\"]}),(0,n.jsx)(e.p,{children:\"We have a simple render logic that traverses the nodes through render functions and generates dom. It is simple template rendering.\"}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"there-is-no-way-to-rerender-onlysubtrees\",children:[(0,n.jsx)(e.a,{href:\"#there-is-no-way-to-rerender-onlysubtrees\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"There is no way to rerender onlysubtrees.\"]}),(0,n.jsx)(e.p,{children:\"If I go with virtual dom path there is no need to rerender subtrees as it will be always full render and virtual dom diff will take care. And then dom patch will be done as in traditional react.\"}),(0,n.jsxs)(e.h2,{className:\"content-header\",id:\"there-is-no-way-to-know-which-subtree-needs-to-be-rerendered\",children:[(0,n.jsx)(e.a,{href:\"#there-is-no-way-to-know-which-subtree-needs-to-be-rerendered\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"There is no way to know which subtree needs to be rerendered.\"]}),(0,n.jsx)(e.p,{children:\"One way is to make the state,props as observables and we can figure out if it requires rerender. Probably this is how angular1 was built. The rerender also cannot patch the dom since there is no marker to tell which node is being referred by the current component, so that the subtree can be replaced. Also I am starting to ponder what happens if the child subtree contains a form, all user\\u2019s selection will be lost. So singleton will be required, but singleton instance must be created per unique node. Once created those instances are created, those needs to be reused otherwise state data will be lost.\"}),(0,n.jsx)(e.p,{children:\"We may have to go with synthetic events for 2 reasons.\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"To be able to cleanup without memory leaking.\"}),(0,n.jsx)(e.li,{children:\"To know if rerender is required if there is an event.\"})]}),(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"some-stage1-code\",children:[(0,n.jsx)(e.a,{href:\"#some-stage1-code\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Some stage1 code\"]}),(0,n.jsx)(e.p,{children:\"I defined a button component, and a bootstrapping class App.tsx. Both are pretty much similar to what you would do in actual reactjs application. I will explain about the import statement in a minute. But rest of the code is exactly like plain reactjs.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./DummyReact'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"MyButton\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"constructor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"count\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clickHandler\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"clickHandler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"clickHandler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Button clicked'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"count\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`   \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"count\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"button onClick\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clickHandler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),\"button text\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"And the bootstrapping part goes like this. This is also plain reactjs.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./DummyReact'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./MyButton'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"App\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Hello\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"renderRoot\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"getElementById\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'root'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"Now what does it take to render these above snippets. We know that jsx gets compiled into plain javascript. Lets look at what it gets compiled into.\"}),(0,n.jsx)(e.p,{children:\"MyButton.tsx get compiled into below snippet.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Object\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"defineProperty\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"exports\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"__esModule\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"value\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"./DummyReact\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment doc-comment\",children:\"/** [@class](http://twitter.com/class) */\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"count\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clickHandler\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"clickHandler\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"MyButton\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"prototype\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method function-variable method-variable\",children:\"clickHandler\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'Button clicked!'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"count\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+=\"}),\" \",(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forceRender\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"MyButton\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"prototype\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method function-variable method-variable\",children:\"render\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"div\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"count\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"button\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"onClick\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"clickHandler\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"button text\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"exports\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"The app.tsx looks like this below snippet.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token class-name known-class-name\",children:\"Object\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"defineProperty\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"exports\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"__esModule\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"value\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token boolean\",children:\"true\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"./DummyReact\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton_1\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"./MyButton\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token comment doc-comment\",children:\"/** [@class](http://twitter.com/class) */\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"})}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"App\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"prototype\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method function-variable method-variable\",children:\"render\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"div\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token string\",children:'\"Hello \"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"MyButton_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"renderRoot\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"NaiveReact_1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"App\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword nil null\",children:\"null\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"getElementById\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'root'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"By seeing the above compiled code, you will notice that JSX automatically assumes that it has to convert those tags into \",(0,n.jsx)(e.code,{children:\"React.createElement()\"}),\" static functions. For this reason we have to stick with this \",(0,n.jsx)(e.code,{children:\"React\"}),\" keyword. But we will provide our own implementation that will traverse this render functions tree calling each other until the dom is rendered. That is exactly what is done in this below 46 lines code on DummyReact.ts.\"]}),(0,n.jsx)(e.p,{children:\"DummyReact.ts\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"DummyReact\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" singletonRegistry \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"getInstance\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"tagName\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`   \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"tagName\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"tagName\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"attrs\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"x\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"children\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tagName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'function'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      elm \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"DummyReact\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"getInstance\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tagName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      elm \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token dom variable\",children:\"document\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"tagName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"     \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" attr \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"in\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsx)(e.span,{className:\"code-line\",children:`          \\r\n`}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[\"on\",(0,n.jsx)(e.span,{className:\"token class-name char-set\",children:\"\\\\w\"}),(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"+\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"test\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"attr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" eventName \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" attr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"replace\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token function anchor\",children:\"^\"}),\"on\"]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"''\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        eventName \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" eventName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"charAt\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"0\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"toLocaleLowerCase\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" eventName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"substr\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\"1\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"addEventListener\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"eventName\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"attr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"setAttribute\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"attr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" attrs\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"attr\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"     \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"children\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      children\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forEach\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"child\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" child \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'string'\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"||\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"typeof\"}),\" child \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"===\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'number'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"innerHTML\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"innerHTML\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),\" child\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"else\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          \",(0,n.jsx)(e.span,{className:\"token comment\",children:\"// assume it is a function; perhaps a function createElement(..)  \"}),`\\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"          elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"child\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"renderRoot\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"obj\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" rootElement\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" element \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"of\"}),\" rootElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"children\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      rootElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"removeChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"element\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    rootElement\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"appendChild\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\" obj \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"You can see a working version right here.\"}),(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"stage-2\",children:[(0,n.jsx)(e.a,{href:\"#stage-2\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Stage 2\"]}),(0,n.jsx)(e.p,{children:\"I am focusing on two things for now.\"}),(0,n.jsxs)(e.ol,{children:[(0,n.jsx)(e.li,{children:\"I want to achieve without virtual-dom\"}),(0,n.jsx)(e.li,{children:\"Partial re-render of subtree. This will become our force render.\"}),(0,n.jsx)(e.li,{children:\"Be able to have Multiple instance of the same Component (Ex. MyButton being shown twice with two different counter values. Where counts are being stored within the Component)\"}),(0,n.jsx)(e.li,{children:\"Handle events from correct instance if multiple instances of a Custom Element is present. (Ex. Clicking MyButton in our case with trigger event of its correct instance)\"})]}),(0,n.jsx)(e.p,{children:\"The solution was to have marker reference to each component instance in html node. This concept is similar to isolated scope in angularjs. Whenever any event is triggered the correct instance of the function gets called. We are having dom events listeners. Currently there is no synthetic event concept in our implementation. Also there is no global listening to events to autorender. So an explicit forceRender() is required to be called. From the instance which is called forceRender() the correct instance is identified and the relevant dom node is identified. Then the subtree is re-rendered.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:700/1*2CK3UoTsC7LfvgNTIFq5_Q.png\"})}),(0,n.jsx)(e.p,{children:\"Overall the implementation of Naive-React has only 3 important function.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsx)(e.code,{className:\"language-js code-highlight\",children:(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"NaiveReact\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"appendRef\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[\"inst\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" elm\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" instNumber\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"createElement\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsxs)(e.span,{className:\"token parameter\",children:[(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"tagName\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"attrs\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"x\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" string\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" any\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\"children\"]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"static\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"forceRender\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"comp\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator spread\",children:\"...\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})})}),(0,n.jsx)(e.p,{children:\"The entire implementation is less than 98 lines of code.\"}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.a,{href:\"https://stackblitz.com/edit/naive-react?file=NaiveReact.ts\",children:\"https://stackblitz.com/edit/naive-react?file=NaiveReact.ts\"}),(0,n.jsx)(e.br,{}),(0,n.jsx)(e.a,{href:\"https://github.com/samarjit/naive-react/blob/master/src/NaiveReact.ts\",children:\"https://github.com/samarjit/naive-react/blob/master/src/NaiveReact.ts\"}),\".\"]}),(0,n.jsx)(e.p,{children:\"Live working implementation is shown below:\"}),(0,n.jsxs)(e.h1,{className:\"content-header\",id:\"conclusion\",children:[(0,n.jsx)(e.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(e.span,{className:\"content-header-link\",children:(0,n.jsxs)(e.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,n.jsx)(e.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,n.jsx)(e.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Conclusion\"]}),(0,n.jsx)(e.p,{children:\"With just 98 lines of code we can achieve a jsx rendering + events + render subtrees without any external dependencies. JSX is supported out of box in TypeScript which opens up this opportunities. I hope JSX is supported in EcmaScript in future. Today you can do so using babel. For a simple application where react will be overkill this is a viable template implementation.\"}),(0,n.jsx)(e.p,{children:\"Future improvements can be done to implement synthetic events and which will pave the path for implementing auto-render. Feel free to fork and have fun!\"}),(0,n.jsxs)(e.p,{children:[\"Links \\u2014 What\\u2019s next lets build redux too \\u2014 \",(0,n.jsx)(e.a,{href:\"https://samarjit-samanta.medium.com/lets-build-naive-redux-159e3caa856b\",children:\"https://samarjit-samanta.medium.com/lets-build-naive-redux-159e3caa856b\"})]}),(0,n.jsx)(e.p,{children:\"Next \\u2014 probably I will build a router\"}),(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.strong,{children:\"Food for throught\"}),\" \\u2014 React keeps a virtual dom tree, and runs all components to create another dom tree, then find the diff, which results in a patch. Then apply this to browser. Now imagine if browser makers had to optimize. Start with HTML-A you make very slight modification to that html which creates HTML-B, and then apply the complete HTML-B to browser. Browsers then have to find the diff, create a patch and apply patch all written in highly optimized C/C++ code. I believe this business of diffing and patching should be left to browsers instead of using user-land virtual-dom js code to mess around! Let me know what you feel about it in comments.\"]})]})}function d(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(p,{...a})}):p(a)}return g(v);})();\n;return Component;"
        },
        "_id": "blog/naive-react.mdx",
        "_raw": {
          "sourceFilePath": "blog/naive-react.mdx",
          "sourceFileName": "naive-react.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/naive-react"
        },
        "type": "Blog",
        "readingTime": {
          "text": "7 min read",
          "minutes": 6.74,
          "time": 404400,
          "words": 1348
        },
        "slug": "naive-react",
        "path": "blog/naive-react",
        "filePath": "blog/naive-react.mdx",
        "toc": [
          {
            "value": "Stage 1",
            "url": "#stage-1",
            "depth": 1
          },
          {
            "value": "There is no way to rerender onlysubtrees.",
            "url": "#there-is-no-way-to-rerender-onlysubtrees",
            "depth": 2
          },
          {
            "value": "There is no way to know which subtree needs to be rerendered.",
            "url": "#there-is-no-way-to-know-which-subtree-needs-to-be-rerendered",
            "depth": 2
          },
          {
            "value": "Some stage1 code",
            "url": "#some-stage1-code",
            "depth": 1
          },
          {
            "value": "Stage 2",
            "url": "#stage-2",
            "depth": 1
          },
          {
            "value": "Conclusion",
            "url": "#conclusion",
            "depth": 1
          }
        ],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Naive react",
          "datePublished": "2019-03-17T00:00:00.000Z",
          "dateModified": "2019-03-17T00:00:00.000Z",
          "description": "With just 98 lines of code we can achieve a jsx rendering + events + render subtrees without any external dependencies.\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/naive-react"
        }
      },
      "documentHash": "1735797248857",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/naive-redux.mdx": {
      "document": {
        "title": "Naive redux",
        "date": "2018-03-26T00:00:00.000Z",
        "tags": [
          "react",
          "javacript",
          "Simple React",
          "jsx",
          "typescript"
        ],
        "summary": "Lets build basic redux complete with redux devtools integration from scratch\r",
        "body": {
          "raw": "\r\n![](https://miro.medium.com/v2/resize:fit:1000/1*HoYPs98h596XufXa0awLCA.gif)\r\n\r\n# Lets build redux from scratch — naive redux\r\n\r\n## TL:DR; We will build redux in about 60 lines of code and make it work with redux devtools. Take me straight to code:  [https://stackblitz.com/edit/react-ts-redux](https://stackblitz.com/edit/react-ts-redux)\r\n\r\n[](https://samarjit-samanta.medium.com/?source=post_page---byline--159e3caa856b--------------------------------)\r\n\r\n![samarjit.samanta](https://miro.medium.com/v2/resize:fill:44:44/0*3LyY21ZP8iY4sLLL.jpg)\r\n\r\n[samarjit.samanta](https://samarjit-samanta.medium.com/?source=post_page---byline--159e3caa856b--------------------------------)\r\n\r\n5 min read\r\n\r\n·\r\n\r\nMar 26, 2018\r\n\r\nBefore we begin let us take a step back and think what is redux?\r\n\r\nIt’s a store of data, you can update the store with some events and you can subscribe to stored data change events. Ofcourse you should not think of it as a pub-sub mechanism backed by a event data store. There is a subtle difference. The events which gets published do not get passed down to listeners.\r\n\r\n> _😖_ While writing this, I am pondering what will be the consequences if we really received those events back, may be we wont need reactive programming, food for thought!\r\n\r\nLets get back to redux, it does update the stored data, and notify all subscribers that we have got new data in store. Up to this point I have explained what is within scope of redux. And after this, in a typical react application would have a special type of subscriber called `connect()`, which is a Higher Order Component (HOC) that read the store data and inject relevant parts of it into props of a react component. This `connect()` is part of react-redux project which is out of scope for our naive redux.\r\n\r\n# Let’s visualize\r\n\r\n![](https://miro.medium.com/v2/resize:fit:511/1*1JxavlPpsuz2jVXnv21GnQ.png)\r\n\r\nRedux skeleton\r\n\r\nNow lets get acquainted with some terminologies used in redux.\r\n\r\nEvent data is `action`. Which typically contains type which is event name and payload. Eg. `{type: 'INCREMENT', payload: '1'}`.  \r\nTriggering event is called `dispatch()`  \r\n`Reducer` does the job of assimilating payload data into Data Store.  \r\n`Subscribe()` thankfully do not have strange nomenclature.\r\n\r\n# Blueprint\r\n\r\nLet’s create a skeleton of necessary functions.\r\n\r\n```\r\nclass ReduxStore {  \r\n   storeState: any = undefined;  \r\n   reducers: Reducer[] = [];  \r\n   subscriptions: any[] = [];/* Initialize the store */  \r\n   createStore() {}  \r\n  /* provide a method for emitting events.   \r\n   And also process events and finally call subscribers*/  \r\n   dispatch() {}  \r\n  /* loops though reducers array and update storeState*/  \r\n   runReducers() {}  \r\n  /* register subscribers */  \r\n   subscribe() {}  \r\n  /* return current state */  \r\n   getState()  \r\n}\r\n```\r\n\r\nWe can create a basic typescript project as follows.\r\n\r\n`create-react-app ts-redux --scripts-version=react-scripts-ts`\r\n\r\nFirst some boilerplate Types definitions since I am going to use TypeScript.\r\n\r\n```\r\n/** Naive Redux */  \r\nexport interface Action<T = any> {  \r\ntype: T;  \r\n}export interface AnyAction extends Action {  \r\n// Allows any extra properties to be defined in an action.      [extraProps: string]: any;  \r\n}export type Reducer<S = any, A extends Action = AnyAction> = (state: S | undefined, action: A) => S;\r\n```\r\n\r\nThen, the implementation of the blueprint. This is pretty much it.\r\n\r\n## CreateStore\r\n\r\n```\r\ncreateStore(reducer: Reducer, predefinedState?: any) {  \r\n     this.reducers.push(reducer);  \r\n     return this;  \r\n   }\r\n```\r\n\r\nWhat this function does is initialize the main store. It registers all the data manipulating reducers. You can write other methods to add more reducers. Like redux does with replace reducers. We also have to work with the predefinedStates. You can assign to storeState for now. If you want to capture the default argument value from the reducer. You can run the reducer once with undefined state and undefined action.\r\n\r\n## Dispatch\r\n\r\n```\r\ndispatch(action: AnyAction) {  \r\n     this.runReducers(action);  \r\n     for(const publish of this.subscriptions) {  \r\n       publish();  \r\n     }  \r\n   }  \r\n     \r\nrunReducers(action: AnyAction) {  \r\n     for(const reducer of this.reducers) {  \r\n       const state = reducer(this.storeState, action);  \r\n       this.storeState = {...this.storeState, ...state};  \r\n     }  \r\n   }\r\n```\r\n\r\nThis function does all the event handling once user calls dispatch. We have to run through all the reducers passing the current storeState. Assume that action is `{type: ‘INC’, payload: 1}`. So all the reducers that act on ‘INC’ action type will manipulate the state. Ideally it should do in an immutable way. So that we can compare the old and new state to determine whether the storeState actually changed or not. And then publish storeState changed only if there is some real change in store state after running the the reducers. But for simplicity sake we anyway call all the subscribers.\r\n\r\nThe complete listing will look like this.\r\n\r\n```\r\nexport class ReduxStore {  \r\n  storeState: any = undefined;  \r\n  reducers: Reducer[] = [];  \r\n  subscriptions: any[] = [];  \r\n  constructor() {  \r\n    this.createStore = this.createStore.bind(this);  \r\n    this.subscribe = this.subscribe.bind(this);  \r\n  }  \r\n  /* Initialize the store */  \r\n   createStore(reducer: Reducer, predefinedState?: any) {  \r\n     this.reducers.push(reducer);  \r\n     return this;  \r\n   }  \r\n  /* provide a method for emitting events.   \r\n   And also process events and finally call subscribers*/  \r\n   dispatch(action: AnyAction) {  \r\n     this.runReducers(action);  \r\n     for(const subs of this.subscriptions) {  \r\n       subs();  \r\n     }  \r\n   }  \r\n  /* loops though reducers array and update storeState*/  \r\n   runReducers(action: AnyAction) {  \r\n     for(const reducer of this.reducers) {  \r\n       const state = reducer(this.storeState, action);  \r\n       this.storeState = {...this.storeState, ...state};  \r\n     }  \r\n   }  \r\n  /* register subscribers */  \r\n   subscribe(fn: ()=>void) {  \r\n     this.subscriptions.push(fn);  \r\n   }  \r\n  getState(){  \r\n    return this.storeState;  \r\n  }   \r\n}   \r\nexport const reduxStore = new ReduxStore();\r\n```\r\n\r\nThen use it like regular redux.\r\n\r\n## Create a reducer and store and subscribe to store:\r\n\r\n```\r\nfunction appReducer(state: {count: number} = { count: 1},   \r\n                    action: AnyAction){ switch(action.type) {  \r\n    case 'INC':   \r\n       return {...state, count: state.count + action.payload};  \r\n    case 'DEC':   \r\n       return {...state, count: state.count - action.payload};  \r\n    default: return state;  \r\n  }  \r\n}this.store = reduxStore.createStore(appReducer);this.store.subscribe( () => {  \r\n     console.log('Store:' + this.store.getState());  \r\n});\r\n```\r\n\r\nDispatch actions to reduxStore. This is like publishing events.\r\n\r\n```\r\nthis.store.dispatch({type: 'INC', payload: 1})\r\n```\r\n\r\nOutput:\r\n\r\n```\r\nStore: 1  \r\nStore: 2\r\n```\r\n\r\nThat’s all about redux. That wasn’t too difficult.\r\n\r\n## Oh wait. What if I can get chrome redux dev tools to work with my naive redux.\r\n\r\nSure, just modify your createStore() with the below code. Original redux has a concept of middlewares. This middleware concept is used to inject redux devtools into our application.\r\n\r\nThe first part is handling two overloaded createStore() function where predefinedState can be optional parameter.\r\n\r\n`enhancer()` function is similar to applyMiddleware() provided by a redux. Redux devtools can also use enhancer and run some instrumentation logic on reducers. Basically it takes our reducer and wraps it into a wrappedReducer. It then calls our createStore. So what we store in our reducers[] array is wrappedReducers. Now imagine in our dispatch() function we call wrappedReducer instead of real reducers. These wrapped reducers calls back our original reducers and then calls different action types for updating redux devtools. This is contrived explanation of what happens in redux devtools. Isn’t is amazing that with this little code even redux devtools start to work and even the replay functionality of devtools work.\r\n\r\n```\r\ncreateStore(reducer: Reducer, predefinedState: any, enhancer?: (fn: any) => any) {  \r\n        if(typeof(predefinedState) === 'function' ) {  \r\n            enhancer = predefinedState;  \r\n            predefinedState = undefined;  \r\n        }  \r\n        if (enhancer) {  \r\n            const fnRet = enhancer(this.createStore);  \r\n            return fnRet(reducer, predefinedState);  \r\n        }  \r\n        this.reducers.push(reducer);  \r\n        this.dispatch({type: '@@redux/INIT'});  \r\n        return this;  \r\n}\r\n```\r\n\r\nThat is all required for simplified redux implementation.\r\n\r\nPosible Enhancement: We can improve one thing which is currently not present in redux. That is pass on events to the subscriber. Often times subscriber gets called multiple times and in this case subscriber can easily react to specific events only.\r\n\r\n```\r\ndispatch(action: AnyAction) {  \r\n     this.runReducers(action);  \r\n     for(const subs of this.subscriptions) {  \r\n       subs(action.type);  //Only this line requires changes  \r\n     }  \r\n   }\r\n```\r\n\r\n# Live running code\r\n\r\nOpen redux devtools in chrome developers tools and connect with this app.\r\n\r\n# Conclusion\r\n\r\nI hope someone gets a better understanding about redux from this writeup.\r\n\r\nLinks — Checkout if you want to build a framework like react  [https://samarjit-samanta.medium.com/naive-react-3d86ab64be84](https://samarjit-samanta.medium.com/naive-react-3d86ab64be84)",
          "code": "var Component=(()=>{var h=Object.create;var t=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var u=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var y=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),w=(a,n)=>{for(var s in n)t(a,s,{get:n[s],enumerable:!0})},r=(a,n,s,l)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let c of u(n))!k.call(a,c)&&c!==s&&t(a,c,{get:()=>n[c],enumerable:!(l=m(n,c))||l.enumerable});return a};var f=(a,n,s)=>(s=a!=null?h(N(a)):{},r(n||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),g=a=>r(t({},\"__esModule\",{value:!0}),a);var i=y((S,o)=>{o.exports=_jsx_runtime});var v={};w(v,{default:()=>d,frontmatter:()=>b});var e=f(i()),b={title:\"Naive redux\",date:\"2018-03-26\",tags:[\"react\",\"javacript\",\"Simple React\",\"jsx\",\"typescript\"],summary:\"Lets build basic redux complete with redux devtools integration from scratch\"};function p(a){let n={a:\"a\",blockquote:\"blockquote\",br:\"br\",code:\"code\",em:\"em\",h1:\"h1\",h2:\"h2\",img:\"img\",p:\"p\",path:\"path\",pre:\"pre\",span:\"span\",svg:\"svg\",...a.components};return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1000/1*HoYPs98h596XufXa0awLCA.gif\"})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"lets-build-redux-from-scratch--naive-redux\",children:[(0,e.jsx)(n.a,{href:\"#lets-build-redux-from-scratch--naive-redux\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Lets build redux from scratch \\u2014 naive redux\"]}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"tldr-we-will-build-redux-in-about-60-lines-of-code-and-make-it-work-with-redux-devtools-take-me-straight-to-code--httpsstackblitzcomeditreact-ts-redux\",children:[(0,e.jsx)(n.a,{href:\"#tldr-we-will-build-redux-in-about-60-lines-of-code-and-make-it-work-with-redux-devtools-take-me-straight-to-code--httpsstackblitzcomeditreact-ts-redux\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"TL:DR; We will build redux in about 60 lines of code and make it work with redux devtools. Take me straight to code: \",(0,e.jsx)(n.a,{href:\"https://stackblitz.com/edit/react-ts-redux\",children:\"https://stackblitz.com/edit/react-ts-redux\"})]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://samarjit-samanta.medium.com/?source=post_page---byline--159e3caa856b--------------------------------\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"samarjit.samanta\",src:\"https://miro.medium.com/v2/resize:fill:44:44/0*3LyY21ZP8iY4sLLL.jpg\"})}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.a,{href:\"https://samarjit-samanta.medium.com/?source=post_page---byline--159e3caa856b--------------------------------\",children:\"samarjit.samanta\"})}),(0,e.jsx)(n.p,{children:\"5 min read\"}),(0,e.jsx)(n.p,{children:\"\\xB7\"}),(0,e.jsx)(n.p,{children:\"Mar 26, 2018\"}),(0,e.jsx)(n.p,{children:\"Before we begin let us take a step back and think what is redux?\"}),(0,e.jsx)(n.p,{children:\"It\\u2019s a store of data, you can update the store with some events and you can subscribe to stored data change events. Ofcourse you should not think of it as a pub-sub mechanism backed by a event data store. There is a subtle difference. The events which gets published do not get passed down to listeners.\"}),(0,e.jsx)(n.blockquote,{children:(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.em,{children:\"\\u{1F616}\"}),\" While writing this, I am pondering what will be the consequences if we really received those events back, may be we wont need reactive programming, food for thought!\"]})}),(0,e.jsxs)(n.p,{children:[\"Lets get back to redux, it does update the stored data, and notify all subscribers that we have got new data in store. Up to this point I have explained what is within scope of redux. And after this, in a typical react application would have a special type of subscriber called \",(0,e.jsx)(n.code,{children:\"connect()\"}),\", which is a Higher Order Component (HOC) that read the store data and inject relevant parts of it into props of a react component. This \",(0,e.jsx)(n.code,{children:\"connect()\"}),\" is part of react-redux project which is out of scope for our naive redux.\"]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"lets-visualize\",children:[(0,e.jsx)(n.a,{href:\"#lets-visualize\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Let\\u2019s visualize\"]}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:511/1*1JxavlPpsuz2jVXnv21GnQ.png\"})}),(0,e.jsx)(n.p,{children:\"Redux skeleton\"}),(0,e.jsx)(n.p,{children:\"Now lets get acquainted with some terminologies used in redux.\"}),(0,e.jsxs)(n.p,{children:[\"Event data is \",(0,e.jsx)(n.code,{children:\"action\"}),\". Which typically contains type which is event name and payload. Eg. \",(0,e.jsx)(n.code,{children:\"{type: 'INCREMENT', payload: '1'}\"}),\".\",(0,e.jsx)(n.br,{}),\"Triggering event is called \",(0,e.jsx)(n.code,{children:\"dispatch()\"}),(0,e.jsx)(n.br,{}),(0,e.jsx)(n.code,{children:\"Reducer\"}),\" does the job of assimilating payload data into Data Store.\",(0,e.jsx)(n.br,{}),(0,e.jsx)(n.code,{children:\"Subscribe()\"}),\" thankfully do not have strange nomenclature.\"]}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"blueprint\",children:[(0,e.jsx)(n.a,{href:\"#blueprint\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Blueprint\"]}),(0,e.jsx)(n.p,{children:\"Let\\u2019s create a skeleton of necessary functions.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ReduxStore\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword nil\",children:\"undefined\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* Initialize the store */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:`/* provide a method for emitting events.   \\r\n`})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"   And also process events and finally call subscribers*/\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* loops though reducers array and update storeState*/\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* register subscribers */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"subscribe\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* return current state */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"We can create a basic typescript project as follows.\"}),(0,e.jsx)(n.p,{children:(0,e.jsx)(n.code,{children:\"create-react-app ts-redux --scripts-version=react-scripts-ts\"})}),(0,e.jsx)(n.p,{children:\"First some boilerplate Types definitions since I am going to use TypeScript.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment doc-comment\",children:\"/** Naive Redux */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" any\",(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"T\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"interface\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"AnyAction\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Action\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Allows any extra properties to be defined in an action.      [extraProps: string]: any;  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" type \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"<\"}),(0,e.jsx)(n.span,{className:\"token constant\",children:\"S\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"A\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Action\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\">\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"state\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"S\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"|\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword nil\",children:\"undefined\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"A\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token constant\",children:\"S\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Then, the implementation of the blueprint. This is pretty much it.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"createstore\",children:[(0,e.jsx)(n.a,{href:\"#createstore\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"CreateStore\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"reducer\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" predefinedState\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reducer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"What this function does is initialize the main store. It registers all the data manipulating reducers. You can write other methods to add more reducers. Like redux does with replace reducers. We also have to work with the predefinedStates. You can assign to storeState for now. If you want to capture the default argument value from the reducer. You can run the reducer once with undefined state and undefined action.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"dispatch\",children:[(0,e.jsx)(n.a,{href:\"#dispatch\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Dispatch\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" publish \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token function\",children:\"publish\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsx)(n.span,{className:\"code-line\",children:`     \\r\n`}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" reducer \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" state \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.p,{children:[\"This function does all the event handling once user calls dispatch. We have to run through all the reducers passing the current storeState. Assume that action is \",(0,e.jsx)(n.code,{children:\"{type: \\u2018INC\\u2019, payload: 1}\"}),\". So all the reducers that act on \\u2018INC\\u2019 action type will manipulate the state. Ideally it should do in an immutable way. So that we can compare the old and new state to determine whether the storeState actually changed or not. And then publish storeState changed only if there is some real change in store state after running the the reducers. But for simplicity sake we anyway call all the subscribers.\"]}),(0,e.jsx)(n.p,{children:\"The complete listing will look like this.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ReduxStore\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword nil\",children:\"undefined\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"constructor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"createStore\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"bind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscribe\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"subscribe\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"bind\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* Initialize the store */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"reducer\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" predefinedState\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reducer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:`/* provide a method for emitting events.   \\r\n`})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"   And also process events and finally call subscribers*/\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" subs \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token function\",children:\"subs\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* loops though reducers array and update storeState*/\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" reducer \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" state \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"/* register subscribers */\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token function\",children:\"subscribe\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token function function-variable\",children:\"fn\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"void\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"fn\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token function\",children:\"getState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"storeState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`   \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`   \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" reduxStore \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"ReduxStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Then use it like regular redux.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"create-a-reducer-and-store-and-subscribe-to-store\",children:[(0,e.jsx)(n.a,{href:\"#create-a-reducer-and-store-and-subscribe-to-store\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Create a reducer and store and subscribe to store:\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"function\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"appReducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"state\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"count\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" number\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"count\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`   \\r\n`]})]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"                    \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"switch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'INC'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`   \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"count\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"count\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"payload\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"case\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'DEC'\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),`   \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token operator spread\",children:\"...\"}),\"state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"count\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"count\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"-\"}),\" action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"payload\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"    \",(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"default\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" state\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"  \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"store\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" reduxStore\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"appReducer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"store\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"subscribe\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token class-name console\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"log\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Store:'\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"store\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"getState\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"Dispatch actions to reduxStore. This is like publishing events.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsx)(n.code,{className:\"language-js code-highlight\",children:(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"store\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'INC'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"payload\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})})}),(0,e.jsx)(n.p,{children:\"Output:\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"Store\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"Store\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"That\\u2019s all about redux. That wasn\\u2019t too difficult.\"}),(0,e.jsxs)(n.h2,{className:\"content-header\",id:\"oh-wait-what-if-i-can-get-chrome-redux-dev-tools-to-work-with-my-naive-redux\",children:[(0,e.jsx)(n.a,{href:\"#oh-wait-what-if-i-can-get-chrome-redux-dev-tools-to-work-with-my-naive-redux\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Oh wait. What if I can get chrome redux dev tools to work with my naive redux.\"]}),(0,e.jsx)(n.p,{children:\"Sure, just modify your createStore() with the below code. Original redux has a concept of middlewares. This middleware concept is used to inject redux devtools into our application.\"}),(0,e.jsx)(n.p,{children:\"The first part is handling two overloaded createStore() function where predefinedState can be optional parameter.\"}),(0,e.jsxs)(n.p,{children:[(0,e.jsx)(n.code,{children:\"enhancer()\"}),\" function is similar to applyMiddleware() provided by a redux. Redux devtools can also use enhancer and run some instrumentation logic on reducers. Basically it takes our reducer and wraps it into a wrappedReducer. It then calls our createStore. So what we store in our reducers[] array is wrappedReducers. Now imagine in our dispatch() function we call wrappedReducer instead of real reducers. These wrapped reducers calls back our original reducers and then calls different action types for updating redux devtools. This is contrived explanation of what happens in redux devtools. Isn\\u2019t is amazing that with this little code even redux devtools start to work and even the replay functionality of devtools work.\"]}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reducer\",(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"Reducer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"predefinedState\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" enhancer\",(0,e.jsx)(n.span,{className:\"token operator\",children:\"?\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"fn\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" any\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator arrow\",children:\"=>\"}),\" any\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"typeof\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"predefinedState\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'function'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            enhancer \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" predefinedState\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            predefinedState \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword nil\",children:\"undefined\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"enhancer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" fnRet \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"enhancer\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"createStore\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"            \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"fnRet\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reducer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" predefinedState\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"reducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"reducer\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'@@redux/INIT'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"        \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsx)(n.p,{children:\"That is all required for simplified redux implementation.\"}),(0,e.jsx)(n.p,{children:\"Posible Enhancement: We can improve one thing which is currently not present in redux. That is pass on events to the subscriber. Often times subscriber gets called multiple times and in this case subscriber can easily react to specific events only.\"}),(0,e.jsx)(n.pre,{className:\"language-js\",children:(0,e.jsxs)(n.code,{className:\"language-js code-highlight\",children:[(0,e.jsxs)(n.span,{className:\"code-line\",children:[(0,e.jsx)(n.span,{className:\"token function\",children:\"dispatch\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"action\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token maybe-class-name\",children:\"AnyAction\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access function method\",children:\"runReducers\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"for\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" subs \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"of\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"this\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"subscriptions\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"       \",(0,e.jsx)(n.span,{className:\"token function\",children:\"subs\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"action\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"type\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\";\"}),\"  \",(0,e.jsx)(n.span,{className:\"token comment\",children:\"//Only this line requires changes  \"}),`\\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"     \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,e.jsxs)(n.span,{className:\"code-line\",children:[\"   \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"live-running-code\",children:[(0,e.jsx)(n.a,{href:\"#live-running-code\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Live running code\"]}),(0,e.jsx)(n.p,{children:\"Open redux devtools in chrome developers tools and connect with this app.\"}),(0,e.jsxs)(n.h1,{className:\"content-header\",id:\"conclusion\",children:[(0,e.jsx)(n.a,{href:\"#conclusion\",\"aria-hidden\":\"true\",tabIndex:\"-1\",children:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(n.span,{className:\"content-header-link\",children:(0,e.jsxs)(n.svg,{className:\"h-5 linkicon w-5\",fill:\"currentColor\",viewBox:\"0 0 20 20\",xmlns:\"http://www.w3.org/2000/svg\",children:[(0,e.jsx)(n.path,{d:\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}),(0,e.jsx)(n.path,{d:\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"})]})})})}),\"Conclusion\"]}),(0,e.jsx)(n.p,{children:\"I hope someone gets a better understanding about redux from this writeup.\"}),(0,e.jsxs)(n.p,{children:[\"Links \\u2014 Checkout if you want to build a framework like react \",(0,e.jsx)(n.a,{href:\"https://samarjit-samanta.medium.com/naive-react-3d86ab64be84\",children:\"https://samarjit-samanta.medium.com/naive-react-3d86ab64be84\"})]})]})}function d(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,{...a,children:(0,e.jsx)(p,{...a})}):p(a)}return g(v);})();\n;return Component;"
        },
        "_id": "blog/naive-redux.mdx",
        "_raw": {
          "sourceFilePath": "blog/naive-redux.mdx",
          "sourceFileName": "naive-redux.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/naive-redux"
        },
        "type": "Blog",
        "readingTime": {
          "text": "7 min read",
          "minutes": 6.065,
          "time": 363900,
          "words": 1213
        },
        "slug": "naive-redux",
        "path": "blog/naive-redux",
        "filePath": "blog/naive-redux.mdx",
        "toc": [
          {
            "value": "Lets build redux from scratch — naive redux",
            "url": "#lets-build-redux-from-scratch--naive-redux",
            "depth": 1
          },
          {
            "value": "TL:DR; We will build redux in about 60 lines of code and make it work with redux devtools. Take me straight to code:  https://stackblitz.com/edit/react-ts-redux",
            "url": "#tldr-we-will-build-redux-in-about-60-lines-of-code-and-make-it-work-with-redux-devtools-take-me-straight-to-code--httpsstackblitzcomeditreact-ts-redux",
            "depth": 2
          },
          {
            "value": "Let’s visualize",
            "url": "#lets-visualize",
            "depth": 1
          },
          {
            "value": "Blueprint",
            "url": "#blueprint",
            "depth": 1
          },
          {
            "value": "CreateStore",
            "url": "#createstore",
            "depth": 2
          },
          {
            "value": "Dispatch",
            "url": "#dispatch",
            "depth": 2
          },
          {
            "value": "Create a reducer and store and subscribe to store:",
            "url": "#create-a-reducer-and-store-and-subscribe-to-store",
            "depth": 2
          },
          {
            "value": "Oh wait. What if I can get chrome redux dev tools to work with my naive redux.",
            "url": "#oh-wait-what-if-i-can-get-chrome-redux-dev-tools-to-work-with-my-naive-redux",
            "depth": 2
          },
          {
            "value": "Live running code",
            "url": "#live-running-code",
            "depth": 1
          },
          {
            "value": "Conclusion",
            "url": "#conclusion",
            "depth": 1
          }
        ],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "Naive redux",
          "datePublished": "2018-03-26T00:00:00.000Z",
          "dateModified": "2018-03-26T00:00:00.000Z",
          "description": "Lets build basic redux complete with redux devtools integration from scratch\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/naive-redux"
        }
      },
      "documentHash": "1735797324199",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "blog/react-dynamic-pluginloading.mdx": {
      "document": {
        "title": "React dynamic plugins loading, want to build a plugin store?",
        "date": "2019-01-17T00:00:00.000Z",
        "tags": [
          "plugin-store",
          "react-dynamic-plugin",
          "reactjs"
        ],
        "summary": "Load reactjs plugins loaded from a remote http server (think react plugin stores)\r",
        "body": {
          "raw": "\r\nWhat if you want to write some React component that can be a chart that can be plugged into a remote react application. The remote application does not need to pull your source code and rebuild again in order to use your code.\r\n\r\nWhat ever I described above can be largely achieved with plain javascript by simply fetching a script and evaluating it in browser.\r\n\r\nHow is it different from react lazy loading?\r\n\r\nAns. React/angular kind of libraries do a lot of magic by statically linking. If you look up some dynamic loading and code splitting tutorial, you will find that entire code is statically parsed and mostly webpack does the code splitting based on routes or whereever dynamic imports are used  `()=> import(‘./YourPlugin’)`  is used.\r\n\r\nYou can use  `ReactDOM.render(‘<YourPlugin/>’, some dom elm)`  inside your main application. But this becomes two separate applications with no code sharing. In this case the bundle sizes of your plugins will contain entire react code so it will be big.\r\n\r\nI am going to show an approach that will build the plugin code into minimal lib without any library or any redundant code. You can even use  [https://babeljs.io/repl](https://babeljs.io/repl)  to transpile your plugin code without any react dependency.\r\n\r\nLets first see how to load and render the plugin.\r\n\r\n```\r\nloadPlugins() {  \r\n fetch(\"./dist/\"+this.state.pluginName+\".plugin.js\")  \r\n .then((resp) => resp.text())  \r\n .then((resp)=>{  \r\n this.state.components.push(this.state.pluginName);  \r\n this.pluginRegistry[this.state.pluginName] =  eval(resp).default;  \r\n this.forceUpdate();  \r\n });  \r\n this.forceUpdate();  \r\n}render() {  \r\n return (  \r\n <div>  \r\n  <h2>Dynamic Components Loading</h2>  \r\n  <input type=\"text\"  onChange={ (e) => this.state.pluginName = e.target.value} placeholder=\"Plugin Name D1,D2,...D4 etc\"/>  \r\n  <button onClick={this.loadPlugins.bind(this)}>Load</button>  \r\n  <div>  \r\n  {this.state.components.map((componentId) => {  \r\n  let Component = this.pluginRegistry[componentId];  \r\n  return <Component>{componentId}</Component>;  \r\n  })}  \r\n  </div>  \r\n </div>);  \r\n}\r\n```\r\n\r\nThe above snippet loads the plugin’s compiled js code using  `window.fetch()`  api and then  `eval()`  that code. We may be able to inject dynamic script tags or use some loader like requirejs here.\r\n\r\nThe plugin code is simple and straightforward\r\n\r\n```\r\nimport React from 'react';export default class D2 extends React.Component {constructor(){  \r\n    super();  \r\n    console.log('D2 loading')  \r\n  }render () {  \r\n    console.log('D2 rendering')  \r\n    return <div>{this.props.children}</div>  \r\n  }};\r\n```\r\n\r\nTo make the plugin code not package react, react-dom along with it. We have to compile it as a library using webpack. Note that libraryTarget is ‘window’ which means React will be expected to be available in window object.\r\n\r\n```\r\nvar path = require('path');  \r\nvar APP_DIR = path.resolve(__dirname, 'src');module.exports = {  \r\n  mode: 'development',  \r\n  entry: {  \r\n    D1: './src/D1.jsx',  \r\n    D2: './src/D2.jsx',  \r\n  },  \r\n  output: {  \r\n    path: path.resolve(__dirname, 'dist'),  \r\n    filename: '[name].plugin.js',  \r\n    library: 'D1plugin',  \r\n    libraryTarget:'window'  \r\n  },  \r\n  externals: {  \r\n    react: {  \r\n      commonjs: 'react',  \r\n      commonjs2: 'react',  \r\n      amd: 'react',  \r\n      window: 'React'  \r\n    }  \r\n  },  \r\n  module : {  \r\n    rules : [  \r\n        {  \r\n            test : /\\.jsx?/,  \r\n            include : APP_DIR,  \r\n            loader : 'babel-loader'  \r\n        }  \r\n    ]  \r\n  }  \r\n};\r\n```\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*kH9Z7yg9b3OqUoW2rAjxtg.png)\r\n\r\nSnip of compiled plugin code\r\n\r\nThe main lib react and react-dom are loaded as script tags.\r\n\r\n```\r\n<!DOCTYPE html>  \r\n<html lang=\"en\">  \r\n<head>  \r\n    <script src='[https://unpkg.com/react@15.3.2/dist/react.js'](https://unpkg.com/react@15.3.2/dist/react.js')></script>  \r\n    <script src='[https://unpkg.com/react-dom@15.3.2/dist/react-dom.js'](https://unpkg.com/react-dom@15.3.2/dist/react-dom.js')></script>     \r\n</head>  \r\n<body>  \r\n    <script async src=\"dist/main.bundle.js\" type=\"text/javascript\"></script>  \r\n    <div id=\"output\"></div>  \r\n</body>  \r\n</html>\r\n```\r\n\r\nThe complete is code is here.\r\n\r\nTo run the code.\r\n\r\n`Git clone  [https://github.com/samarjit/react-dynamic-plugin](https://github.com/samarjit/react-dynamic-plugin)`\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*CVFMNMRgIqAfgWa6tmeznw.png)\r\n\r\nCompile plugins\r\n\r\n![](https://miro.medium.com/v2/resize:fit:858/1*Z5_0_aPI97SNtxb3AQ94jA.png)\r\n\r\nCompile main jsx file\r\n\r\nRun http-server in the react-dynamic-plugin folder.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:660/1*9g_PPqpm0EMGzHtjS25GMg.png)\r\n\r\nOpen the index.html in browser, and run  `main.load()`  in console to load the application. Then Enter ‘D1’ in the text field and click ‘Load’.\r\n\r\n![](https://miro.medium.com/v2/resize:fit:1050/1*a_SA3ZMi5_G2gjsB3C2ToQ.png)\r\n\r\nThe complete source code is available in this project.",
          "code": "var Component=(()=>{var m=Object.create;var t=Object.defineProperty;var h=Object.getOwnPropertyDescriptor;var N=Object.getOwnPropertyNames;var u=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var g=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),y=(a,e)=>{for(var s in e)t(a,s,{get:e[s],enumerable:!0})},o=(a,e,s,l)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let c of N(e))!k.call(a,c)&&c!==s&&t(a,c,{get:()=>e[c],enumerable:!(l=h(e,c))||l.enumerable});return a};var w=(a,e,s)=>(s=a!=null?m(u(a)):{},o(e||!a||!a.__esModule?t(s,\"default\",{value:a,enumerable:!0}):s,a)),b=a=>o(t({},\"__esModule\",{value:!0}),a);var i=g((x,r)=>{r.exports=_jsx_runtime});var j={};y(j,{default:()=>d,frontmatter:()=>f});var n=w(i()),f={title:\"React dynamic plugins loading, want to build a plugin store?\",date:\"2019-01-17\",tags:[\"plugin-store\",\"react-dynamic-plugin\",\"reactjs\"],summary:\"Load reactjs plugins loaded from a remote http server (think react plugin stores)\"};function p(a){let e={a:\"a\",code:\"code\",img:\"img\",p:\"p\",pre:\"pre\",span:\"span\",...a.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(e.p,{children:\"What if you want to write some React component that can be a chart that can be plugged into a remote react application. The remote application does not need to pull your source code and rebuild again in order to use your code.\"}),(0,n.jsx)(e.p,{children:\"What ever I described above can be largely achieved with plain javascript by simply fetching a script and evaluating it in browser.\"}),(0,n.jsx)(e.p,{children:\"How is it different from react lazy loading?\"}),(0,n.jsxs)(e.p,{children:[\"Ans. React/angular kind of libraries do a lot of magic by statically linking. If you look up some dynamic loading and code splitting tutorial, you will find that entire code is statically parsed and mostly webpack does the code splitting based on routes or whereever dynamic imports are used \",(0,n.jsx)(e.code,{children:\"()=> import(\\u2018./YourPlugin\\u2019)\"}),\" is used.\"]}),(0,n.jsxs)(e.p,{children:[\"You can use \",(0,n.jsx)(e.code,{children:\"ReactDOM.render(\\u2018<YourPlugin/>\\u2019, some dom elm)\"}),\" inside your main application. But this becomes two separate applications with no code sharing. In this case the bundle sizes of your plugins will contain entire react code so it will be big.\"]}),(0,n.jsxs)(e.p,{children:[\"I am going to show an approach that will build the plugin code into minimal lib without any library or any redundant code. You can even use \",(0,n.jsx)(e.a,{href:\"https://babeljs.io/repl\",children:\"https://babeljs.io/repl\"}),\" to transpile your plugin code without any react dependency.\"]}),(0,n.jsx)(e.p,{children:\"Lets first see how to load and render the plugin.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token function\",children:\"loadPlugins\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"fetch\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"./dist/\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginName\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"+\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\".plugin.js\"'}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"resp\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" resp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"text\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"then\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"resp\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"components\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"push\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginName\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginRegistry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginName\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\"  \",(0,n.jsx)(e.span,{className:\"token function\",children:\"eval\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"resp\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forceUpdate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"forceUpdate\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"h2\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Dynamic\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Components\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Loading\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"h2\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"input type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"text\"'}),\"  onChange\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"e\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginName\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" e\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"target\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"value\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),\" placeholder\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"Plugin Name D1,D2,...D4 etc\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"button onClick\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"loadPlugins\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"bind\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Load\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"button\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"state\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"components\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"map\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token parameter\",children:\"componentId\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator arrow\",children:\"=>\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"let\"}),\" \",(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Component\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"pluginRegistry\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),\"componentId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Component\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),\"componentId\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"Component\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})]})}),(0,n.jsxs)(e.p,{children:[\"The above snippet loads the plugin\\u2019s compiled js code using \",(0,n.jsx)(e.code,{children:\"window.fetch()\"}),\" api and then \",(0,n.jsx)(e.code,{children:\"eval()\"}),\" that code. We may be able to inject dynamic script tags or use some loader like requirejs here.\"]}),(0,n.jsx)(e.p,{children:\"The plugin code is simple and straightforward\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"import\"}),\" \",(0,n.jsx)(e.span,{className:\"token imports\",children:(0,n.jsx)(e.span,{className:\"token maybe-class-name\",children:\"React\"})}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"from\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"export\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword module\",children:\"default\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"class\"}),\" \",(0,n.jsx)(e.span,{className:\"token class-name\",children:\"D2\"}),\" \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"extends\"}),\" \",(0,n.jsxs)(e.span,{className:\"token class-name\",children:[\"React\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),\"Component\"]}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"constructor\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"super\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'D2 loading'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token function\",children:\"render\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token class-name console\",children:\"console\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"log\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'D2 rendering'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),(0,n.jsx)(e.span,{className:\"token keyword\",children:\"this\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"props\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"children\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"To make the plugin code not package react, react-dom along with it. We have to compile it as a library using webpack. Note that libraryTarget is \\u2018window\\u2019 which means React will be expected to be available in window object.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" path \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token function\",children:\"require\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'path'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token keyword\",children:\"var\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"APP_DIR\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'src'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),\"module\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"exports\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"mode\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'development'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"entry\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"D1\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./src/D1.jsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"D2\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'./src/D2.jsx'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"output\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"path\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" path\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access function method\",children:\"resolve\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"__dirname\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'dist'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"filename\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'[name].plugin.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"library\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'D1plugin'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"libraryTarget\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'window'\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"externals\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"react\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"commonjs\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"commonjs2\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"amd\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'react'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"      \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"window\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'React'\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"module\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"rules\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"[\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"{\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"test\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsxs)(e.span,{className:\"token regex\",children:[(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"}),(0,n.jsxs)(e.span,{className:\"token language-regex regex-source\",children:[(0,n.jsx)(e.span,{className:\"token escape special-escape\",children:\"\\\\.\"}),\"jsx\",(0,n.jsx)(e.span,{className:\"token number quantifier\",children:\"?\"})]}),(0,n.jsx)(e.span,{className:\"token regex-delimiter\",children:\"/\"})]}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"include\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token constant\",children:\"APP_DIR\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\",\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"            \",(0,n.jsx)(e.span,{className:\"token literal-property property\",children:\"loader\"}),\" \",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),\" \",(0,n.jsx)(e.span,{className:\"token string\",children:\"'babel-loader'\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"        \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"  \",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"}\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\";\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*kH9Z7yg9b3OqUoW2rAjxtg.png\"})}),(0,n.jsx)(e.p,{children:\"Snip of compiled plugin code\"}),(0,n.jsx)(e.p,{children:\"The main lib react and react-dom are loaded as script tags.\"}),(0,n.jsx)(e.pre,{className:\"language-js\",children:(0,n.jsxs)(e.code,{className:\"language-js code-highlight\",children:[(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"!\"}),(0,n.jsx)(e.span,{className:\"token constant\",children:\"DOCTYPE\"}),\" html\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"html lang\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"en\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"head\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"script src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'[https://unpkg.com/react@15.3.2/dist/react.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"https\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"unpkg\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"com\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"react@\",(0,n.jsx)(e.span,{className:\"token number\",children:\"15.3\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\".2\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"dist\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"react\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"js\"}),\"'\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"script\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"script src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:\"'[https://unpkg.com/react-dom@15.3.2/dist/react-dom.js'\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"]\"}),(0,n.jsx)(e.span,{className:\"token punctuation\",children:\"(\"}),\"https\",(0,n.jsx)(e.span,{className:\"token operator\",children:\":\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"unpkg\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"com\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"react\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"dom@\",(0,n.jsx)(e.span,{className:\"token number\",children:\"15.3\"}),(0,n.jsx)(e.span,{className:\"token number\",children:\".2\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"dist\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"react\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"-\"}),\"dom\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\".\"}),(0,n.jsx)(e.span,{className:\"token property-access\",children:\"js\"}),\"'\",(0,n.jsx)(e.span,{className:\"token punctuation\",children:\")\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"script\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`     \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"head\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"body\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"script \",(0,n.jsx)(e.span,{className:\"token keyword\",children:\"async\"}),\" src\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"dist/main.bundle.js\"'}),\" type\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"text/javascript\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"script\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[\"    \",(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),\"div id\",(0,n.jsx)(e.span,{className:\"token operator\",children:\"=\"}),(0,n.jsx)(e.span,{className:\"token string\",children:'\"output\"'}),(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"div\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"body\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`  \\r\n`]}),(0,n.jsxs)(e.span,{className:\"code-line\",children:[(0,n.jsx)(e.span,{className:\"token operator\",children:\"<\"}),(0,n.jsx)(e.span,{className:\"token operator\",children:\"/\"}),\"html\",(0,n.jsx)(e.span,{className:\"token operator\",children:\">\"}),`\n`]})]})}),(0,n.jsx)(e.p,{children:\"The complete is code is here.\"}),(0,n.jsx)(e.p,{children:\"To run the code.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.code,{children:\"Git clone [https://github.com/samarjit/react-dynamic-plugin](https://github.com/samarjit/react-dynamic-plugin)\"})}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*CVFMNMRgIqAfgWa6tmeznw.png\"})}),(0,n.jsx)(e.p,{children:\"Compile plugins\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:858/1*Z5_0_aPI97SNtxb3AQ94jA.png\"})}),(0,n.jsx)(e.p,{children:\"Compile main jsx file\"}),(0,n.jsx)(e.p,{children:\"Run http-server in the react-dynamic-plugin folder.\"}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:660/1*9g_PPqpm0EMGzHtjS25GMg.png\"})}),(0,n.jsxs)(e.p,{children:[\"Open the index.html in browser, and run \",(0,n.jsx)(e.code,{children:\"main.load()\"}),\" in console to load the application. Then Enter \\u2018D1\\u2019 in the text field and click \\u2018Load\\u2019.\"]}),(0,n.jsx)(e.p,{children:(0,n.jsx)(e.img,{alt:\"\",src:\"https://miro.medium.com/v2/resize:fit:1050/1*a_SA3ZMi5_G2gjsB3C2ToQ.png\"})}),(0,n.jsx)(e.p,{children:\"The complete source code is available in this project.\"})]})}function d(a={}){let{wrapper:e}=a.components||{};return e?(0,n.jsx)(e,{...a,children:(0,n.jsx)(p,{...a})}):p(a)}return b(j);})();\n;return Component;"
        },
        "_id": "blog/react-dynamic-pluginloading.mdx",
        "_raw": {
          "sourceFilePath": "blog/react-dynamic-pluginloading.mdx",
          "sourceFileName": "react-dynamic-pluginloading.mdx",
          "sourceFileDir": "blog",
          "contentType": "mdx",
          "flattenedPath": "blog/react-dynamic-pluginloading"
        },
        "type": "Blog",
        "readingTime": {
          "text": "3 min read",
          "minutes": 2.67,
          "time": 160200,
          "words": 534
        },
        "slug": "react-dynamic-pluginloading",
        "path": "blog/react-dynamic-pluginloading",
        "filePath": "blog/react-dynamic-pluginloading.mdx",
        "toc": [],
        "structuredData": {
          "@context": "https://schema.org",
          "@type": "BlogPosting",
          "headline": "React dynamic plugins loading, want to build a plugin store?",
          "datePublished": "2019-01-17T00:00:00.000Z",
          "dateModified": "2019-01-17T00:00:00.000Z",
          "description": "Load reactjs plugins loaded from a remote http server (think react plugin stores)\r",
          "image": "/static/images/twitter-card.png",
          "url": "https://samarjitsamanta.com/blog/react-dynamic-pluginloading"
        }
      },
      "documentHash": "1735794662975",
      "hasWarnings": false,
      "documentTypeName": "Blog"
    },
    "posts/firstpage.mdx": {
      "document": {
        "title": "Old drawing - Daydreaming!",
        "date": "2007-03-11T05:00:00.000Z",
        "body": {
          "raw": "\r\n![MyDrawing](/mydrawing1.jpg)",
          "code": "var Component=(()=>{var g=Object.create;var i=Object.defineProperty;var u=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty;var w=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),h=(t,e)=>{for(var n in e)i(t,n,{get:e[n],enumerable:!0})},c=(t,e,n,d)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let o of p(e))!l.call(t,o)&&o!==n&&i(t,o,{get:()=>e[o],enumerable:!(d=u(e,o))||d.enumerable});return t};var y=(t,e,n)=>(n=t!=null?g(x(t)):{},c(e||!t||!t.__esModule?i(n,\"default\",{value:t,enumerable:!0}):n,t)),_=t=>c(i({},\"__esModule\",{value:!0}),t);var m=w((b,a)=>{a.exports=_jsx_runtime});var v={};h(v,{default:()=>f,frontmatter:()=>j});var r=y(m()),j={title:\"Old drawing - Daydreaming!\",date:\"2007-03-11\"};function s(t){let e={div:\"div\",...t.components},{Image:n}=e;return n||M(\"Image\",!0),(0,r.jsx)(e.div,{children:(0,r.jsx)(n,{alt:\"MyDrawing\",src:\"/mydrawing1.jpg\",width:\"1200\",height:\"1600\"})})}function f(t={}){let{wrapper:e}=t.components||{};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(s,{...t})}):s(t)}function M(t,e){throw new Error(\"Expected \"+(e?\"component\":\"object\")+\" `\"+t+\"` to be defined: you likely forgot to import, pass, or provide it.\")}return _(v);})();\n;return Component;"
        },
        "_id": "posts/firstpage.mdx",
        "_raw": {
          "sourceFilePath": "posts/firstpage.mdx",
          "sourceFileName": "firstpage.mdx",
          "sourceFileDir": "posts",
          "contentType": "mdx",
          "flattenedPath": "posts/firstpage"
        },
        "type": "Post",
        "url": "/posts/posts/firstpage"
      },
      "documentHash": "1735624858983",
      "hasWarnings": false,
      "documentTypeName": "Post"
    }
  }
}
