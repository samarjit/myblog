<!DOCTYPE html>
<html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title>Date Difference Age Calculator</title>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CKY54F98QE"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CKY54F98QE');
</script>
<meta name="keywords" content="Date Difference calculator, Time Difference calculator, Age calculator">
<meta name="title" content="Javascript Date Difference calculator,">
<meta name="description" content="Javascript Date Difference Calcualtor and Age calculator">
	<link rel="stylesheet" href="css/jsonview-core.css">
	<link rel="stylesheet" href="css/jsonview.css">
	<link rel="stylesheet" href="css/bootstrap.css" />
	<style type="text/css">
	 body{
            font-family: arial;
            min-height: 2000px;
	  		padding-top: 70px;
         }  
	</style>
<script src="js/jquery-1.10.2.min.js" ></script>	
<script src="js/clipboardcopy.js" ></script>	


</head>
<body ng-app>
	<div class="navbar navbar-default navbar-fixed-top" role="navigation">
		<div class="container">
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		            <span class="sr-only">Toggle navigation</span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		            <span class="icon-bar"></span>
		          </button>
				<a class="navbar-brand"  href="index.html">Index</a>
				<a class="navbar-brand"  href="jsonview.html">Json View</a>
			</div>
			<div class="collapse  navbar-collapse">
				<ul class="nav navbar-nav">
					<li></li>
				</ul>
			</div>
		</div>
	</div>
	<article class="container">
		<form ng-controller="datediff"  autocomplete="on">
			<div class="row">
				<label class='col-md-2'>Start Date:</label>
				<div class="input-group col-md-4" >
					<input name="startDate" class="form-control" ng-model="startDate" />
					 <span class="input-group-addon" id="basic-addon2">
 						{{startDate|date:'yyyy-MMM-dd'}}
					 </span>
				</div>
				<div class="col-md-2">
					<input type="date" ng-model="startDatePicker" class="form-control " ng-change="startDtChange()"   />
				</div>
				<div class="col-md-2">
					<input type="time" ng-model='startTime' class="form-control "  />
				</div>

			</div>
			<div class="row">&nbsp;</div>
			<div class="row">
				<label class='col-md-2'>End Date:</label>
				<div class="input-group col-md-4"   >
					<input name="endDate" class="form-control" ng-model="endDate"/>
					 <span class="input-group-addon" id="basic-addon2">
					 	{{endDate|date:'yyyy-MMM-dd'}}
					 </span>
				</div>
				<div class="col-md-2">
					<input type="date" ng-model="endDatePicker" class="form-control "  ng-change="endDtChange()"  />	 
				</div>
				<div class="col-md-2"><input type="time" ng-model='endTime' class="form-control "   /></div>

			</div>
			<div class="row">&nbsp;</div>
			<div class="row">
				<button type="button" ng-click="calculate()" class="btn btn-primary">calculate</button>
				<div class="row"><label class="col-md-2">Years:</label><span ng-bind="years"></span></div>
				<div class="row"><label class="col-md-2">Days:</label><span ng-bind="days"></span></div>
				<div class="row"><label class="col-md-2">Hours:</label><span ng-bind="hours"></span></div>
				<div class="row"><label class="col-md-2">Mins:</label><span ng-bind="mins"></span></div>
				<div class="row"><label class="col-md-2">Formatted:</label><span ng-bind="total"></span></div>
			</div>
		</form>
	</article>
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	
	  ga('create', 'UA-46467121-2', 'samarjits.com');
	  ga('send', 'pageview');
	
	</script>
	<script src="js/angular.min.js" ></script>	
	<script>
	// function monthDiff(DisplayFrom, DisplayTo) {
	//     return DisplayTo.getMonth() - 
 //            DisplayFrom.getMonth() + 
 //            (12 * (DisplayTo.getFullYear() - DisplayFrom.getFullYear()));
	// }
	function monthDiff(d1, d2) {
	    var months;
	    months = (d2.getFullYear() - d1.getFullYear()) * 12;
	    months -= (d1.getMonth() + 1);
	    months += (d2.getMonth() + 1);
	    return months <= 0 ? 0 : months;
	}
	function datediff ($scope, $filter) {
		 $scope.startDate = $filter('date')(new Date(2016,01,01),'yyyy-MMM-dd');
		 $scope.endDate = $filter('date')(new Date(),'yyyy-MMM-dd');
		 $scope.startDtChange = function(){
		 	$scope.startDate = $scope.startDatePicker;
		 }
		 $scope.endDtChange = function(){
		 	$scope.endDate = $scope.endDatePicker;
		 }

		 $scope.calculate = function(){
		 	var stDt = new Date($scope.startDate);
		 	var endDt = new Date($scope.endDate);
		 	$scope.years = (endDt - stDt) / (1000 * 365 * 24 * 60 * 60);
		 	$scope.days = (endDt - stDt) / (1000 * 24 * 60 * 60 );
		 	$scope.hours = (endDt - stDt) / (1000 * 60 * 60);
		 	$scope.mins = (endDt - stDt) / (1000 * 60 );
		 	$scope.weeks = (endDt - stDt)/(1000 * 24 * 60 * 60 * 7);
			$scope.months = monthDiff( stDt, endDt);

		 	var millisecondsLeft = (endDt - stDt) % $scope.years;
		 	if(stDt.getFullYear() < endDt.getFullYear())
		 	stDt.setFullYear(endDt.getFullYear()); 
		 	var monthsdiff = monthDiff( stDt, endDt);
		 	stDt.setMonth(stDt.getMonth() + monthsdiff);
		 	var days = endDt.getDate() - stDt.getDate();
		 	$scope.total = Math.floor($scope.years) +" yrs, "+monthsdiff+ " mths, "+days+" days";
		 	console.log(stDt);
		 }
	}
	</script>
</body>
</html>
